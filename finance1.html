<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promotion Guide</title>
    <link rel="icon" type="image/png" href="images/COA.png">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #b3c7fc;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            background-color: #004080;
            color: #ffffff;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative; 
        }

        header img {
            height: 100px;            
        }
        .profile-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-left: 20px;
        gap: 10px;
    }

    .profile-pic {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        border: 3px solid #fff;
        margin-bottom: 5px;
    }

    .user-info {
        color: #fff;
        text-align: center;
        font-size: 14px;
        line-height: 1.2;
    }

    nav h1 {
            color: #ffffff;
            margin: 0;
            font-size: 30px;
            flex-grow: 1;
            text-align: left;
        }

        nav {
            display: flex;
            justify-content: left;
            background-color: #003366;
            padding: 10px;
        }

        nav a {
            color: #ffffff;
            text-decoration: none;
            padding: 10px 20px;
            margin: 0 10px;
            font-size: 18px;
            border-radius: 5px;
        }

        nav a:hover {
            background-color: #005bb5;
        }

        .main-content {
            display: flex;
            flex: 1;
        }

        .container {
            width: 60%;
            margin: 20px auto;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .question {
            margin-bottom: 20px;
        }

        .navigation-buttons button {
            padding: 10px 15px;
            margin: 5px;
            background-color: #004080;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .navigation-buttons button:hover {
            background-color: #003366;
        }

        footer {
            background-color: #003366;
            color: #ffffff;
            text-align: center;
            padding: 15px;
            width: 100%;
        }

        #timer {
            font-size: 18px;
            color: white;
        }

        /* Score Pop-up Styles */
        .score-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 500px;
            padding: 30px;
            background: #f0faff;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            z-index: 1000;
            text-align: center;
            border: 3px solid #004080;
            animation: popIn 0.3s ease-out;
        }

        .score-popup h2 {
            color: #004080;
            font-size: 28px;
            margin-bottom: 15px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .score-popup p {
            font-size: 20px;
            margin: 15px 0;
            color: #333;
            font-weight: 600;
        }

        .score-popup .percentage {
            font-size: 42px;
            font-weight: 800;
            color: #004080;
            margin: 20px 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .score-popup .result-message {
            font-size: 22px;
            font-weight: 700;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .pass {
            background: #e8f5e9;
            color: #2e7d32;
            border: 2px solid #2e7d32;
        }

        .fail {
            background: #ffebee;
            color: #c62828;
            border: 2px solid #c62828;
        }

        #close-popup {
            background: #004080;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        #close-popup:hover {
            background: #003366;
            transform: scale(1.05);
        }

        /* Animation */
        @keyframes popIn {
            from {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0;
            }
            to {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
        }

      .failed-questions {
            margin: 20px 0;
            text-align: left;
            width: 100%;
        }

        .failed-questions h3 {
            color: #c62828;
            margin-bottom: 10px;
            font-size: 18px;
        }

        #failed-questions-list {
            max-height: 150px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            margin: 0 auto;
            width: 90%;
        }

        #failed-questions-list li {
            padding: 8px;
            margin: 5px 0;
            background-color: #ffebee;
            border-left: 4px solid #c62828;
            list-style-type: none;
            font-size: 14px;
        }

        #failed-questions-list li:nth-child(even) {
            background-color: #fce4ec;
        }

        .no-failed {
            color: #2e7d32;
            font-style: italic;
        }

        /* Question Navigation Panel */
        .question-nav-panel {
            width: 30%;
            background-color: #f0f0f0;
            padding: 20px;
            border-left: 1px solid #ddd;
            height: calc(100vh - 200px);
            overflow-y: auto;
            position: sticky;
            top: 0;
        }

        .question-nav-panel h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #004080;
        }

        .question-buttons {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
        }

        .question-btn {
            width: 100%;
            padding: 8px 0;
            background-color: #004080; /* Blue for unanswered */
            color: white;
            border: 1px solid #003366;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .question-btn:hover {
            background-color: #005bb5;
            transform: scale(1.05);
        }

        .question-btn.current {
            background-color: #004080;
            color: white;
            font-weight: bold;
            box-shadow: 0 0 0 2px white, 0 0 0 4px #004080;
        }

        .question-btn.answered-correct {
            background-color: #4CAF50; /* Green for correct */
            border-color: #388E3C;
        }

        .question-btn.answered-wrong {
            background-color: #f44336; /* Red for wrong */
            border-color: #d32f2f;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            .container {
                width: 90%;
            }
            .question-nav-panel {
                width: 100%;
                height: auto;
                border-left: none;
                border-top: 1px solid #ddd;
                order: -1;
            }
            .question-buttons {
                grid-template-columns: repeat(10, 1fr);
            }
        }
    </style>
</head>
<body>

    <header>
      <div class="profile-container">
        <img src="images/profile.jpeg" alt="Profile Picture" class="profile-pic">
        <div class="user-info">Mr. Promotion Exam<br>ID: FCT/12345</div>
    </div>
    <nav><a href="common_services.html">Home</a> </nav> 
    </header>
    
    <nav>
        <h1>Finance 01 </h1>
        <h3 id="timer">Time Remaining: 34:00</h3>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
    </nav>

    <div class="main-content">
        <div class="container">
            <div id="question-container" class="question">
                <p id="question-text"></p>
                <div id="options-container"></div>
            </div>
        
            <div class="navigation-buttons">
                <button id="previous-button" onclick="previousQuestion()"><strong>Previous</strong></button>
                <button id="next-button" onclick="nextQuestion()"><strong>Next</strong></button>
                <button id="submit-button" onclick="submitExam()"><strong>Submit Exam</strong></button>
            </div>
        
            <div id="result" style="display: none; margin-top: 20px; font-size: 20px; color: green;"></div>
        </div>
        
        <!-- Question Navigation Panel -->
        <div class="question-nav-panel">
            <h3>Questions</h3>
            <div class="question-buttons" id="question-buttons">
                <!-- Question buttons will be generated by JavaScript -->
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay" style="display: none;"></div>
    <div class="score-popup" id="score-popup" style="display: none;">
        <h2>Exam Results</h2>
        <p>Total Questions: <span id="total-questions"></span></p>
        <p>Total Scores: <span id="correct-answers"></span></p>
        <div class="percentage" id="percentage"></div>
        <div class="result-message" id="result-message"></div>
        <!-- Add Failed Questions Section -->
        <div class="failed-questions">
            <h3>Failed Questions:</h3>
            <ul id="failed-questions-list"></ul>
        </div>
        <button id="close-popup">Close</button>
    </div>

<footer>
    <p>&copy; 2024 HM Solutions & Co. | All Rights Reserved</p>
</footer>

<script>
    // Add this shuffle function at the beginning of your script
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}
    const questions = [
            {question: "What is the primary mandate of public service finance staff?", options: ["Profit maximization", "Stewardship of the public purse", "Shareholder value increase", "Marketing government services"], answer: "b"},
{question: "The work of public finance professionals is fundamentally linked to what?", options: ["Corporate dividends", "Taxpayer dollars and public goods", "Private investments", "International trade"], answer: "b"},
{question: "Which of the following is NOT a core principle of public finance?", options: ["Accountability", "Profitability", "Transparency", "Value-for-money"], answer: "b"},
{question: "Unlike the private sector, the public sector's goal is primarily what?", options: ["Wealth generation for owners", "Maximizing market share", "Serving the public good", "Global expansion"], answer: "c"},
{question: "What is described as the 'bedrock' of public service finance?", options: ["Innovation", "Public trust and accountability", "Speed of execution", "Technological advancement"], answer: "b"},
{question: "Public service finance staff ensure the government operates with what?", options: ["Speed and secrecy", "Integrity, efficiency, and transparency", "Maximal spending", "Minimal oversight"], answer: "b"},
{question: "The 'public purse' refers to what?", options: ["A politician's personal funds", "Money allocated for office supplies", "Collective taxpayer dollars", "International aid money"], answer: "c"},
{question: "Which principle ensures that public funds are used for their intended purpose?", options: ["Equity", "Accountability", "Legality", "Value-for-money"], answer: "b"},
{question: "The role of a public finance professional is best described as a what?", options: ["Salesperson", "Steward", "Owner", "Lobbyist"], answer: "b"},
{question: "Transparency in public finance allows whom to hold the government accountable?", options: ["Only internal auditors", "The executive branch only", "Citizens and civil society", "Foreign governments"], answer: "c"},
{question: "What is the ultimate source of the funds managed by public service finance staff?", options: ["Corporate donations", "International loans", "Taxpayers", "Private investors"], answer: "c"},
{question: "Which of these is a tangible outcome of effective public financial management?", options: ["Higher corporate bonuses", "Well-maintained roads and quality education", "Increased stock prices", "Lower interest rates on personal loans"], answer: "b"},
{question: "The 'mandate' of public finance is rooted in what?", options: ["Shareholder agreements", "Principles of accountability and legality", "Marketing strategies", "Global economic trends"], answer: "b"},
{question: "What does the term 'value-for-money' imply in a public sector context?", options: ["Choosing the cheapest option always", "Getting the best possible outcome from public spending", "Maximizing departmental budgets", "Spending all allocated funds before year-end"], answer: "b"},
{question: "Why is ethical conduct particularly important for public finance staff?", options: ["It increases their bonus potential", "They are stewards of resources that belong to the public", "It is a requirement for international travel", "It simplifies their accounting tasks"], answer: "b"},
{question: "The work of finance staff enables the delivery of what?", options: ["Private shareholder dividends", "Vital public services", "Corporate expansion plans", "Personal wealth for officials"], answer: "b"},
{question: "What is the main difference between a public and private sector finance goal?", options: ["Public seeks profit, private seeks service", "There is no difference", "Public seeks service, private seeks profit", "Public seeks global dominance, private seeks local stability"], answer: "c"},
{question: "Accountability in public finance means answerability to whom?", options: ["The highest bidder", "The public and their representatives", "Only the finance minister", "International banks"], answer: "b"},
{question: "What is the consequence of a failure in public financial management?", options: ["Erosion of public trust and misallocation of resources", "A slight decrease in quarterly profits", "A need for rebranding", "An increase in foreign investment"], answer: "a"},
{question: "The 'equity' principle ensures that public resources are distributed how?", options: ["To the wealthiest corporations", "Fairly and justly", "Only to urban areas", "Based on political connections"], answer: "b"},
{question: "What must a public finance professional prioritize above all else?", options: ["Personal gain", "The interests of their department", "The prudent and lawful use of public funds", "Making the numbers look good for reports"], answer: "c"},
{question: "The comprehensive content describes public service finance staff as essential what?", options: ["Obstacles to progress", "Engineers of the governmental machinery", "Figureheads", "Silent administrators"], answer: "b"},
{question: "What is the 'public good'?", options: ["A profitable government corporation", "A benefit shared by all members of society", "A secret government project", "A type of international treaty"], answer: "b"},
{question: "The link between revenue collection and public service delivery is maintained by whom?", options: ["Elected officials only", "The military", "Public service finance staff", "Private contractors"], answer: "c"},
{question: "Which term describes the careful and responsible management of resources entrusted to one's care?", options: ["Speculation", "Stewardship", "Acquisition", "Liquidation"], answer: "b"},
{question: "A government's financial health and operational capability depend on what?", options: ["The global economy", "Public opinion polls", "The work of its finance staff", "The price of oil"], answer: "c"},
{question: "What does 'multifaceted' mean in the context of the roles described?", options: ["Simple and straightforward", "Focused only on accounting", "Involving many different skills and aspects", "Primarily concerned with public relations"], answer: "c"},
{question: "Rigorous compliance in public finance is necessary to adhere to what?", options: ["Personal preferences", "The latest trends", "Laws and regulations", "Departmental rumors"], answer: "c"},
{question: "The introduction states that the work of finance staff transcends what?", options: ["The need for accuracy", "Government authority", "Mere number-crunching", "International borders"], answer: "c"},
{question: "What is the 'primary policy and financial document' of a government?", options: ["The annual report", "A press release", "The budget", "A strategic plan"], answer: "c"},
{question: "Effective governance is underpinned by what kind of financial management?", options: ["Secretive and fast", "Delegated to private firms", "Effective and trustworthy", "Minimal and hands-off"], answer: "c"},
{question: "What is the first line of defense against waste, fraud, and abuse?", options: ["Public protests", "Media scrutiny", "A strong system of internal controls", "International sanctions"], answer: "c"},
{question: "Strategic advisory roles involve providing advice to whom?", options: ["Only other finance staff", "Foreign governments", "Senior administrators and elected officials", "The general public on personal investing"], answer: "c"},
{question: "The 'complex legal framework' that finance staff navigate includes what?", options: ["Social media policies", "Departmental lunch menus", "Constitutional rules and legislative appropriations", "Personal travel guidelines"], answer: "c"},
{question: "What skill is essential for explaining complex financial data to non-financial managers?", options: ["Physical strength", "Graphic design ability", "Communication skills", "Culinary skills"], answer: "c"},
{question: "The term 'unimpeachable integrity' means what?", options: ["Integrity that cannot be questioned or doubted", "Integrity that is occasionally flexible", "Integrity that is reported to superiors", "Integrity that is defined by law"], answer: "a"},
{question: "What is the 'fiscal reality' that finance staff must translate policy goals into?", options: ["A optimistic dream", "A harsh and unchangeable truth", "The actual financial costs and implications", "A secret budget"], answer: "c"},
{question: "Long-term financial planning helps governments manage what?", options: ["Daily news cycles", "Employee vacation schedules", "Future fiscal challenges like pension liabilities", "International diplomatic relations"], answer: "c"},
{question: "The conclusion describes public finance staff as guardians of what?", options: ["Corporate secrets", "Physical buildings", "Democracy", "Historical archives"], answer: "c"},
{question: "What is the government's primary policy and financial document that finance staff are central to?", options: ["The Strategic Plan", "The Annual Report", "The Budget", "The Audit Opinion"], answer: "c"},
{question: "During budget formulation, what do finance staff analyze to inform their projections?", options: ["Only future policy ideas", "Social media trends", "Historical spending and forecast revenues", "International stock markets"], answer: "c"},
{question: "What is the legal authority to spend public money called?", options: ["A budget proposal", "A cash forecast", "An appropriation", "A variance report"], answer: "c"},
{question: "What is the primary responsibility of finance staff regarding appropriations?", options: ["To ignore them", "To create them without legislative approval", "To ensure all spending is within these legally authorized limits", "To use them for any department need"], answer: "c"},
{question: "What is the purpose of managing allotments and allocations to different divisions?", options: ["To maximize departmental spending", "To hide funds for future use", "To prevent overspending and ensure funds are used for their intended purposes", "To simplify the audit process"], answer: "c"},
{question: "Why is cash flow forecasting critical for a government entity?", options: ["To plan office parties", "To predict election results", "To ensure the government can meet its financial obligations on time", "To set tax rates for the next decade"], answer: "c"},
{question: "What do variance reports explain to management and legislators?", options: ["Employee satisfaction levels", "The weather forecast", "Discrepancies between budgeted and actual figures", "Latest technology trends"], answer: "c"},
{question: "What is the central repository for all financial transactions called?", options: ["The cash book", "The budget document", "The general ledger", "The audit trail"], answer: "c"},
{question: "Coding an expenditure to the correct fund, function, and object class is essential for what?", options: ["Making the books look complicated", "Impressing auditors", "Accurate financial tracking and reporting", "Delaying payments"], answer: "c"},
{question: "Public sector accounting often follows specific standards such as what?", options: ["Corporate Marketing Standards", "Generally Rejected Accounting Principles", "International Public Sector Accounting Standards (IPSAS)", "Federal Spending Guidelines"], answer: "c"},
{question: "Which financial statement shows a government's financial position at a point in time?", options: ["Statement of Cash Flows", "Statement of Activities", "Statement of Financial Position (Balance Sheet)", "Statement of Variances"], answer: "c"},
{question: "Which financial statement shows revenues and expenses over a period?", options: ["Statement of Financial Position", "Statement of Activities (Income Statement)", "Statement of Cash Flows", "Statement of Public Trust"], answer: "b"},
{question: "Who do finance staff primarily liaise with during the year-end audit?", options: ["The media", "External auditors", "Political lobbyists", "The general public"], answer: "b"},
{question: "What is the purpose of preparing year-end work papers?", options: ["To create more paperwork", "To provide external auditors with information for their opinion", "To hide transactions", "To plan the next year's budget"], answer: "b"},
{question: "What is the core function of treasury management?", options: ["Safekeeping and efficient use of public funds", "Designing government policies", "Hiring staff", "Writing legislation"], answer: "a"},
{question: "What is a key duty related to the collection of revenue?", options: ["Establishing efficient systems for collecting taxes and fees", "Reducing tax rates arbitrarily", "Donating revenue to charities", "Spending revenue as it comes in"], answer: "a"},
{question: "What must be ensured before processing a payment to a vendor?", options: ["That the vendor is a friend", "That the payment is accurate, timely, and has gone through proper approval controls", "That the budget is maximized", "That the payment is made in cash"], answer: "b"},
{question: "What is a fundamental control activity for cash management?", options: ["Regular bank reconciliations", "Weekly team lunches", "Annual office cleaning", "Monthly performance reviews"], answer: "a"},
{question: "How must idle public cash be invested?", options: ["In high-risk start-ups", "In secure, liquid instruments as defined by law", "In foreign currencies", "In personal bank accounts"], answer: "b"},
{question: "What is the first line of defense against waste, fraud, and abuse?", options: ["A strong system of internal controls", "A good public relations team", "Hope", "The legal department"], answer: "a"},
{question: "What is an example of an internal control procedure?", options: ["Segregation of duties", "Having one person handle all financial tasks", "Ignoring authorization limits", "Sharing passwords"], answer: "a"},
{question: "What is the role of an internal auditor?", options: ["To process invoices", "To provide independent, objective assurance on risk management and controls", "To manage the budget", "To approve new policies"], answer: "b"},
{question: "What does compliance monitoring involve?", options: ["Ensuring operations follow laws and regulations", "Monitoring employee break times", "Watching the stock market", "Checking weather compliance"], answer: "a"},
{question: "What is the finance staff's role before a procurement process begins?", options: ["Verifying the availability of budgeted funds", "Choosing their favorite vendor", "Ignoring the budget", "Starting the process without checks"], answer: "a"},
{question: "Before authorizing a contract payment, what should finance staff verify?", options: ["The political affiliation of the vendor", "That procurement procedures were followed and goods/services were received", "The vendor's social media profile", "The color of the invoice"], answer: "b"},
{question: "What is budget execution?", options: ["The initial planning of the budget", "The process of implementing the approved budget", "The final audit of the budget", "The public announcement of the budget"], answer: "b"},
{question: "A significant unfavorable variance in a budget report should prompt what?", options: ["Ignoring it", "A celebratory party", "Investigation and corrective action", "Immediate resignation"], answer: "c"},
{question: "What is the main goal of financial accounting in the public sector?", options: ["To minimize taxable income", "To provide accurate and transparent financial information", "To maximize revenue reporting", "To hide spending details"], answer: "b"},
{question: "What does the Statement of Cash Flows show?", options: ["The sources and uses of cash over a period", "The net worth of the government", "The performance of each department", "The number of employees"], answer: "a"},
{question: "The 'general ledger' is used to do what?", options: ["Record daily lunch orders", "Track all financial transactions systematically", "Plan long-term strategy", "Communicate with the public"], answer: "b"},
{question: "What is a 'fund' in governmental accounting?", options: ["A sum of money for office parties", "A fiscal and accounting entity with a self-balancing set of accounts", "A type of investment", "A rainy-day savings account"], answer: "b"},
{question: "What is the key difference between an 'allotment' and an 'appropriation'?", options: ["They are the same thing", "An appropriation is the legal authorization to spend, an allotment is an internal distribution of that authority", "An allotment is legal, an appropriation is internal", "An appropriation is for expenses, an allotment is for revenue"], answer: "b"},
{question: "Why is 'segregation of duties' a critical internal control?", options: ["It creates more jobs", "It prevents one person from having too much control over a transaction, reducing fraud risk", "It makes processes slower", "It is required by international law"], answer: "b"},
{question: "What is the purpose of an 'authorization threshold'?", options: ["To limit the number of employees", "To ensure expenditures over a certain amount are approved by an appropriate level of management", "To set a minimum spending limit", "To authorize tax increases"], answer: "b"},
{question: "What does 'liquidity' refer to in investments?", options: ["The water content", "How easily an investment can be converted to cash", "The ethical rating of the investment", "The government's ability to spend it"], answer: "b"},
{question: "What is the primary purpose of a 'procurement process'?", options: ["To spend money quickly", "To acquire goods and services in a fair, transparent, and competitive manner", "To favor local businesses", "To avoid using the budget"], answer: "b"},
{question: "A 'grant payment' made by a government department is an example of what?", options: ["Revenue collection", "A disbursement of funds", "An internal control", "An investment activity"], answer: "b"},
{question: "What is 'debt servicing'?", options: ["Repairing broken money", "Servicing government vehicles", "Managing the national debt office", "Making interest and principal payments on borrowed money"], answer: "d"},
{question: "What is the ultimate goal of financial controls and auditing?", options: ["To create unnecessary paperwork", "To slow down government operations", "To find ways to cut salaries", "To ensure accountability and protect public assets"], answer: "d"},
{question: "What type of analysis do finance staff conduct to assess the long-term financial viability of a proposed project?", options: ["Sales analysis", "Market trend analysis", "Social media analysis", "Cost-benefit analysis"], answer: "d"},
{question: "Beyond transactional duties, senior finance staff act as what to leadership?", options: ["Obstacles", "Silent observers", "External critics", "Strategic partners"], answer: "d"},
{question: "What is the goal of a cost-benefit analysis for a new public program?", options: ["To understand the total cost of ownership and projected benefits", "To immediately approve all new spending", "To eliminate all program costs", "To delegate the decision to external consultants"], answer: "a"},
{question: "Who do senior finance staff provide expert advice to regarding financial implications?", options: ["Only other finance staff", "The general public via social media", "Foreign governments", "Senior administrators and elected officials"], answer: "d"},
{question: "What is a key component of long-term financial planning?", options: ["Daily cash management", "Processing vendor invoices", "Preparing weekly expenditure reports", "Developing multi-year financial forecasts and models"], answer: "d"},
{question: "What do multi-year financial models help governments identify?", options: ["Next week's cash needs", "The winner of the next election", "Employee of the month", "Future fiscal challenges like pension liabilities"], answer: "d"},
{question: "Modern Public Financial Management (PFM) links resources to what?", options: ["Political favors", "Departmental size", "Number of employees", "Results and outcomes"], answer: "d"},
{question: "What do performance metrics show in a modern PFM system?", options: ["Only what was spent", "Employee vacation days", "The color of the annual report", "What was achieved with the spent funds"], answer: "d"},
{question: "What is the primary focus of a strategic advisory role compared to a transactional one?", options: ["Day-to-day processing", "Data entry accuracy", "Bank reconciliation", "Future-oriented planning and policy impact"], answer: "d"},
{question: "Translating policy goals into fiscal reality is a form of what?", options: ["Budget execution", "Cash collection", "Financial auditing", "Policy advisory"], answer: "d"},
{question: "What kind of management does long-term financial planning enable?", options: ["Reactive management", "Crisis management", "Micro-management", "Proactive management"], answer: "d"},
{question: "Analyzing the 'total cost of ownership' of a new fleet of vehicles includes considering what?", options: ["Only the purchase price", "The color of the vehicles", "The driver's preferences", "Purchase price, maintenance, fuel, and eventual disposal costs"], answer: "d"},
{question: "Providing advice on the financial implications of policy choices helps ensure what?", options: ["Fiscal irresponsibility", "That spending is maximized", "That taxes are never raised", "That policies are fiscally sustainable and realistic"], answer: "d"},
{question: "What is a 'fiscal challenge' that long-term planning might identify?", options: ["An upcoming public holiday", "A change in leadership", "A new office layout", "An infrastructure deficit or rising pension costs"], answer: "d"},
{question: "Strategic financial advice is crucial before what happens?", options: ["The annual audit", "Employees are paid", "The budget is printed", "Policies are finalized and enacted"], answer: "d"},
{question: "What is the difference between a variance report (transactional) and a long-term forecast (strategic)?", options: ["One is paper, one is digital", "One is for internal use, one for external", "There is no difference", "One looks backward at performance, the other looks forward to plan"], answer: "d"},
{question: "Linking a budget increase for a health department to a goal of reducing disease rates is an example of what?", options: ["Favoritism", "Transactional duty", "Revenue collection", "Performance management"], answer: "d"},
{question: "What skills are most important for the strategic advisory role?", options: ["Data entry speed", "Physical stamina", "Graphic design", "Analytical thinking and communication"], answer: "d"},
{question: "Why is it important for finance staff to be involved in policy discussion early?", options: ["To get a front-row seat", "To approve the policy themselves", "To meet elected officials", "To provide financial realism and shape feasible options"], answer: "d"},
{question: "What might a financial model of pension liabilities help a government do?", options: ["Ignore the problem", "Fire current employees", "Eliminate pensions", "Start saving more now to meet future obligations"], answer: "d"},
{question: "The shift from only tracking inputs (money spent) to also tracking outputs (services delivered) represents what?", options: ["A worse system", "A way to hide spending", "An easier accounting method", "A modern approach to performance management"], answer: "d"},
{question: "Strategic financial planning ultimately aims to ensure what?", options: ["Short-term popularity", "Immediate re-election", "Departmental budget increases", "Long-term fiscal sustainability"], answer: "d"},


        ]; 

    shuffleArray(questions);
let currentQuestion = 0;
let score = 0;
let timer;
let timeRemaining = 2000;
let answers = new Array(questions.length).fill(null);

function displayQuestion(index) {
    currentQuestion = index;
    const questionText = document.getElementById("question-text");
    const optionsContainer = document.getElementById("options-container");
    
    questionText.textContent = `Question ${index + 1}: ${questions[index].question}`;
    optionsContainer.innerHTML = "";
    
    questions[index].options.forEach((option, i) => {
        const value = String.fromCharCode(97 + i);
        const input = document.createElement("input");
        input.type = "radio";
        input.name = "answer";
        input.value = value;
        input.id = `option${i + 1}`;
        
        // Check if this answer was previously selected
        if (answers[index] === value) {
            input.checked = true;
        }
        
        const label = document.createElement("label");
        label.htmlFor = `option${i + 1}`;
        label.textContent = `${String.fromCharCode(65 + i)}. ${option}`;
        
        optionsContainer.appendChild(input);
        optionsContainer.appendChild(label);
        optionsContainer.appendChild(document.createElement("br"));
    });

    // Update the question buttons to highlight the current question
    updateQuestionButtons();
}

function createQuestionButtons() {
    const buttonsContainer = document.getElementById('question-buttons');
    buttonsContainer.innerHTML = '';
    
    questions.forEach((_, index) => {
        const button = document.createElement('button');
        button.className = 'question-btn';
        button.textContent = index + 1;
        button.onclick = () => navigateToQuestion(index);
        buttonsContainer.appendChild(button);
    });
    
    updateQuestionButtons();
}

function updateQuestionButtons() {
        const buttons = document.querySelectorAll('.question-btn');
        
        buttons.forEach((button, index) => {
            // Reset all button classes
            button.className = 'question-btn';
            
            // Highlight current question
            if (index === currentQuestion) {
                button.classList.add('current');
            }
            
            // Mark answered questions
            if (answers[index] !== null) {
                if (answers[index] === questions[index].answer) {
                    button.classList.add('answered-correct');
                } else {
                    button.classList.add('answered-wrong');
                }
            }
        });
    }

function navigateToQuestion(index) {
    checkAnswer();
    displayQuestion(index);
}

function startTimer() {
    timer = setInterval(() => {
        if (timeRemaining > 0) {
            timeRemaining--;
            const minutes = Math.floor(timeRemaining / 60).toString().padStart(2, '0');
            const seconds = (timeRemaining % 60).toString().padStart(2, '0');
            document.getElementById("timer").textContent = `Time Remaining: ${minutes}:${seconds}`;
        } else {
            clearInterval(timer);
            submitExam();
        }
    }, 1000);
}

function nextQuestion() {
    checkAnswer();
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        displayQuestion(currentQuestion);
    } else {
        alert("You are on the last question.");
    }
}

function previousQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        displayQuestion(currentQuestion);
    } else {
        alert("You are on the first question.");
    }
}

function checkAnswer() {
    const selectedOption = document.querySelector("input[name='answer']:checked");
    if (selectedOption) {
        answers[currentQuestion] = selectedOption.value;
        score = answers.reduce((total, answer, idx) => {
            return answer === questions[idx].answer ? total + 1 : total;
        }, 0);
        
        // Update the question buttons to reflect the answered question
        updateQuestionButtons();
    }
}

function submitExam() {
    clearInterval(timer);
    checkAnswer();
    
    const percentage = ((score / questions.length) * 100).toFixed(1);
    const popup = document.getElementById("score-popup");
    const overlay = document.getElementById("overlay");
    
    document.getElementById("total-questions").textContent = questions.length;
    document.getElementById("correct-answers").textContent = score;
    document.getElementById("percentage").textContent = `${percentage}%`;
    
    const resultMessage = document.getElementById("result-message");
    resultMessage.className = percentage >= 70 ? "result-message pass" : "result-message fail";
    resultMessage.textContent = percentage >= 70 ? 
        "🎉 Congratulations! You passed!" : 
        "❌ You need more practice. Try again!";

        const failedList = document.getElementById('failed-questions-list');
            failedList.innerHTML = '';
            
            const failedQuestions = answers.reduce((acc, answer, index) => {
                if (answer !== questions[index].answer) {
                    acc.push({
                        question: questions[index].question,
                        number: index + 1,
                        correctAnswer: questions[index].answer.toUpperCase()
                    });
                }
                return acc;
            }, []);

            if (failedQuestions.length > 0) {
                failedQuestions.forEach(q => {
                    const li = document.createElement('li');
                    li.textContent = `Question ${q.number}: ${q.question} (Correct Answer: ${q.correctAnswer})`;
                    failedList.appendChild(li);
                });
            } else {
                const li = document.createElement('li');
                li.textContent = 'All questions answered correctly!';
                li.classList.add('no-failed');
                failedList.appendChild(li);
            }
    
    popup.style.display = "block";
    overlay.style.display = "block";
    
    // Close pop-up handler
    document.getElementById("close-popup").onclick = function() {
        popup.style.display = "none";
        overlay.style.display = "none";
    };
};

window.onload = function() {
    createQuestionButtons();
    displayQuestion(currentQuestion);
    startTimer();
};
</script>

</body>
</html>
