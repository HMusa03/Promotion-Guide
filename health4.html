<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promotion Guide</title>
    <link rel="icon" type="image/png" href="images/COA.png">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #b3c7fc;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            background-color: #004080;
            color: #ffffff;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative; 
        }

        header img {
            height: 100px;            
        }
        .profile-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-left: 20px;
        gap: 10px;
    }

    .profile-pic {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        border: 3px solid #fff;
        margin-bottom: 5px;
    }

    .user-info {
        color: #fff;
        text-align: center;
        font-size: 14px;
        line-height: 1.2;
    }

    nav h1 {
            color: #ffffff;
            margin: 0;
            font-size: 30px;
            flex-grow: 1;
            text-align: left;
        }

        nav {
            display: flex;
            justify-content: left;
            background-color: #003366;
            padding: 10px;
        }

        nav a {
            color: #ffffff;
            text-decoration: none;
            padding: 10px 20px;
            margin: 0 10px;
            font-size: 18px;
            border-radius: 5px;
        }

        nav a:hover {
            background-color: #005bb5;
        }

        .main-content {
            display: flex;
            flex: 1;
        }

        .container {
            width: 60%;
            margin: 20px auto;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .question {
            margin-bottom: 20px;
        }

        .navigation-buttons button {
            padding: 10px 15px;
            margin: 5px;
            background-color: #004080;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .navigation-buttons button:hover {
            background-color: #003366;
        }

        footer {
            background-color: #003366;
            color: #ffffff;
            text-align: center;
            padding: 15px;
            width: 100%;
        }

        #timer {
            font-size: 18px;
            color: white;
        }

        /* Score Pop-up Styles */
        .score-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 500px;
            padding: 30px;
            background: #f0faff;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            z-index: 1000;
            text-align: center;
            border: 3px solid #004080;
            animation: popIn 0.3s ease-out;
        }

        .score-popup h2 {
            color: #004080;
            font-size: 28px;
            margin-bottom: 15px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .score-popup p {
            font-size: 20px;
            margin: 15px 0;
            color: #333;
            font-weight: 600;
        }

        .score-popup .percentage {
            font-size: 42px;
            font-weight: 800;
            color: #004080;
            margin: 20px 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .score-popup .result-message {
            font-size: 22px;
            font-weight: 700;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .pass {
            background: #e8f5e9;
            color: #2e7d32;
            border: 2px solid #2e7d32;
        }

        .fail {
            background: #ffebee;
            color: #c62828;
            border: 2px solid #c62828;
        }

        #close-popup {
            background: #004080;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        #close-popup:hover {
            background: #003366;
            transform: scale(1.05);
        }

        /* Animation */
        @keyframes popIn {
            from {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0;
            }
            to {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
        }

      .failed-questions {
            margin: 20px 0;
            text-align: left;
            width: 100%;
        }

        .failed-questions h3 {
            color: #c62828;
            margin-bottom: 10px;
            font-size: 18px;
        }

        #failed-questions-list {
            max-height: 150px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            margin: 0 auto;
            width: 90%;
        }

        #failed-questions-list li {
            padding: 8px;
            margin: 5px 0;
            background-color: #ffebee;
            border-left: 4px solid #c62828;
            list-style-type: none;
            font-size: 14px;
        }

        #failed-questions-list li:nth-child(even) {
            background-color: #fce4ec;
        }

        .no-failed {
            color: #2e7d32;
            font-style: italic;
        }

        /* Question Navigation Panel */
        .question-nav-panel {
            width: 30%;
            background-color: #f0f0f0;
            padding: 20px;
            border-left: 1px solid #ddd;
            height: calc(100vh - 200px);
            overflow-y: auto;
            position: sticky;
            top: 0;
        }

        .question-nav-panel h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #004080;
        }

        .question-buttons {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
        }

        .question-btn {
            width: 100%;
            padding: 8px 0;
            background-color: #004080; /* Blue for unanswered */
            color: white;
            border: 1px solid #003366;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .question-btn:hover {
            background-color: #005bb5;
            transform: scale(1.05);
        }

        .question-btn.current {
            background-color: #004080;
            color: white;
            font-weight: bold;
            box-shadow: 0 0 0 2px white, 0 0 0 4px #004080;
        }

        .question-btn.answered-correct {
            background-color: #4CAF50; /* Green for correct */
            border-color: #388E3C;
        }

        .question-btn.answered-wrong {
            background-color: #f44336; /* Red for wrong */
            border-color: #d32f2f;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            .container {
                width: 90%;
            }
            .question-nav-panel {
                width: 100%;
                height: auto;
                border-left: none;
                border-top: 1px solid #ddd;
                order: -1;
            }
            .question-buttons {
                grid-template-columns: repeat(10, 1fr);
            }
        }
    </style>
</head>
<body>

    <header>
      <div class="profile-container">
        <img src="images/profile.jpeg" alt="Profile Picture" class="profile-pic">
        <div class="user-info">Mr. Promotion Exam<br>ID: FCT/12345</div>
    </div>
    <nav><a href="health.html">Home</a> </nav> 
    </header>
    
    <nav>
        <h1>Health 004 (100 Qs) </h1>
        <h3 id="timer">Time Remaining: 34:00</h3>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
    </nav>

    <div class="main-content">
        <div class="container">
            <div id="question-container" class="question">
                <p id="question-text"></p>
                <div id="options-container"></div>
            </div>
        
            <div class="navigation-buttons">
                <button id="previous-button" onclick="previousQuestion()"><strong>Previous</strong></button>
                <button id="next-button" onclick="nextQuestion()"><strong>Next</strong></button>
                <button id="submit-button" onclick="submitExam()"><strong>Submit Exam</strong></button>
            </div>
        
            <div id="result" style="display: none; margin-top: 20px; font-size: 20px; color: green;"></div>
        </div>
        
        <!-- Question Navigation Panel -->
        <div class="question-nav-panel">
            <h3>Questions</h3>
            <div class="question-buttons" id="question-buttons">
                <!-- Question buttons will be generated by JavaScript -->
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay" style="display: none;"></div>
    <div class="score-popup" id="score-popup" style="display: none;">
        <h2>Exam Results</h2>
        <p>Total Questions: <span id="total-questions"></span></p>
        <p>Total Scores: <span id="correct-answers"></span></p>
        <div class="percentage" id="percentage"></div>
        <div class="result-message" id="result-message"></div>
        <!-- Add Failed Questions Section -->
        <div class="failed-questions">
            <h3>Failed Questions:</h3>
            <ul id="failed-questions-list"></ul>
        </div>
        <button id="close-popup">Close</button>
    </div>

<footer>
    <p>&copy; 2024 HM Solutions & Co. | All Rights Reserved</p>
</footer>

<script>
    // Add this shuffle function at the beginning of your script
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}
    const questions = [
            {question: "A CHEW is managing a case of uncomplicated malaria in a community clinic. A practical sign that a child needs referral to a doctor is:", options: ["The child has a fever", "The child is unable to drink or breastfeed, is vomiting everything, or has convulsions", "The child is crying", "The mother looks worried"], answer: "b"},
            {question: "A Laboratory Scientist gets a spill of patient blood on the bench. The practical protocol is to:", options: ["Wipe it with a dry cloth", "Pour a bleach solution on it, let it sit, then carefully wipe it up while wearing gloves", "Spray it with air freshener", "Leave it for the cleaner"], answer: "b"},
            {question: "A Pharmacist notices that a doctor's prescription for amoxicillin is written for 5 days, but national guidelines recommend 7 days for that condition. They should:", options: ["Dispense the 5-day supply as written", "Politely contact the doctor to verify or discuss the duration based on guidelines", "Dispense a 7-day supply without telling the doctor", "Throw the prescription away"], answer: "b"},
            {question: "A Health Records Officer is inputting data and sees an outlier: one clinic reporting 500 malaria cases in a week when others report 50. The practical action is to:", options: ["Change the number to 50 to make it consistent", "Contact the clinic to verify the data is correct before reporting it", "Ignore it and submit the report", "Assume it's a typing error and reduce it"], answer: "b"},
            {question: "An Environmental Health Officer investigates a cholera outbreak. The most practical first step is to:", options: ["Arrest all food vendors", "Test the community's water sources for contamination", "Spray insecticides everywhere", "Blame the community for being dirty"], answer: "b"},
            {question: "A Radiographer is about to X-ray a confused elderly patient. To practically ensure the patient stays still, they should:", options: ["Tie the patient to the table", "Clearly explain the procedure, use pillows for support, and get a family member or helper to gently hold the patient in position", "Sedate the patient themselves", "Proceed quickly and hope for the best"], answer: "b"},
            {question: "A Health Administrator needs to reduce hospital-acquired infections. The most practical and effective first intervention is to:", options: ["Buy a new expensive machine", "Enforce strict hand hygiene compliance among all staff", "Hire more doctors", "Write a new policy and file it away"], answer: "b"},
            {question: "A Physiotherapist is treating a patient who has had a stroke. A practical goal for the first session is to:", options: ["Get the patient to run 1km", "Help the patient sit up on the edge of the bed safely with assistance", "Massage the paralyzed side only", "Discharge the patient immediately"], answer: "b"},
            {question: "A doctor is called to see a patient in the ward who is struggling to breathe. The most practical initial assessment is to:", options: ["Order a full set of blood tests first", "Look, listen, and feel: observe chest movement, listen for sounds, check oxygen saturation", "Wait for the chest X-ray result", "Tell the nurse to handle it"], answer: "b"},
            {question: "A midwife is teaching a new mother how to breastfeed. The baby is latched but the mother's nipples are sore. A practical tip is to:", options: ["Tell her to switch to formula", "Check the latch; the baby should have a wide open mouth and take in much of the areola, not just the nipple", "Tell her to endure the pain", "Put soap on the nipples"], answer: "b"},
            {question: "A CHEW is planning a health talk on immunization. To practically increase turnout, they should:", options: ["Hold it in the clinic during random working hours", "Coordinate with community leaders to choose a familiar time and location, like a village square after church", "Use highly technical language", "Offer no explanation for the meeting"], answer: "b"},
            {question: "A Laboratory Technician is using a centrifuge. A practical safety precaution is to:", options: ["Open it immediately if it sounds unbalanced", "Ensure the lid is closed and locked before starting and balance the tubes opposite each other", "Place tubes randomly inside", "Run it on an uneven surface"], answer: "b"},
            {question: "A Pharmacist is counseling a patient on a new drug. To practically check for understanding, they should:", options: ["Ask 'Do you understand?'", "Use the 'teach-back' method: 'Can you please explain how you will take this medicine?'", "Hand them the leaflet", "Rush through the instructions"], answer: "b"},
            {question: "A Health Records Officer is asked for a patient's file by a police officer with no written authorization. The practical response is to:", options: ["Hand over the file immediately", "Politely decline, explaining that patient confidentiality requires a court order or official written request", "Give them just a part of the file", "Call the patient to ask for permission"], answer: "b"},
            {question: "An Environmental Health Officer wants to promote toilet use in a community that practices open defecation. A practical first step is to:", options: ["Fine all offenders", "Facilitate a community-led total sanitation (CLTS) meeting to let them self-identify the risks", "Build toilets for every household himself", "Ignore the practice"], answer: "b"},
            {question: "A nurse is caring for a patient with a highly contagious disease. The most practical sequence for removing PPE is:", options: ["Remove gloves, then mask, then gown", "Remove gloves first, then perform hand hygiene, then remove gown, then remove mask, then perform hand hygiene again", "Remove everything at once and then wash hands", "Just remove the gown and leave everything else on"], answer: "b"},
            {question: "A doctor is breaking bad news to a patient. A practical communication technique is to:", options: ["Use complex medical jargon to sound authoritative", "Speak clearly, simply, and compassionately, and allow for silence and questions", "Blame the patient's lifestyle", "Tell them everything will be fine"], answer: "b"},
            {question: "A Health Administrator is faced with a choice between buying a new ultrasound machine or funding a hand hygiene campaign. The more practical choice for improving overall patient outcomes is likely:", options: ["The ultrasound machine, as it is high-tech", "The hand hygiene campaign, as it prevents a wide range of infections cost-effectively", "Neither, save the money", "Buy personal items for staff"], answer: "b"},
            {question: "A patient is shouting angrily about long waiting times. The most practical and professional way to de-escalate the situation is to:", options: ["Shout back", "Listen actively, acknowledge their frustration, and explain the situation calmly", "Ignore them completely", "Call security to remove them immediately"], answer: "b"},
            {question: "You witness a colleague stealing hospital supplies. Your practical and ethical obligation is to:", options: ["Join them", "Report the incident to your supervisor or through the appropriate confidential channel", "Confront them violently", "Blackmail them for a share"], answer: "b"},
            {question: "You are exhausted after a double shift and are asked to perform a complex procedure. The safest and most practical action is to:", options: ["Do it anyway despite your fatigue", "Politely explain your state and ask if another qualified colleague can assist or take over", "Do it quickly to get it over with", "Pretend you didn't hear the request"], answer: "b"},
            {question: "A superior orders you to do something that violates safety protocols. You should practically:", options: ["Obey the order without question", "Politely refuse, citing the specific safety protocol, and document the incident", "Quit your job on the spot", "Do it but complain to everyone else"], answer: "b"},
            {question: "You realize you have a needle-stick injury from a patient whose HIV status is unknown. Your immediate practical step is to:", options: ["Hide it to avoid blame", "Wash the area with soap and water, and immediately report to the occupational health unit for PEP assessment", "Apply traditional herbs to the wound", "Wait to see if you get sick"], answer: "b"},
            {question: "A family asks you to recommend a traditional healer for a condition modern medicine hasn't cured. A practical and respectful response is to:", options: ["Dismiss all traditional medicine as useless", "Acknowledge their beliefs while encouraging continued medical follow-up, and avoid endorsing specific unproven treatments", "Recommend the most expensive one", "Tell them to stop all hospital treatment"], answer: "b"},
            {question: "You need to refuse a request from a patient's influential relative because it is against policy. The practical way to do this is to:", options: ["Angrily cite the rules", "Politely and firmly explain the policy and the reasoning behind it", "Accuse them of trying to corrupt you", "Give in to avoid conflict"], answer: "b"},
            {question: "You are running very late for your shift due to a traffic accident. A practical action is to:", options: ["Arrive whenever and say nothing", "Turn around and go home", "Blame your colleagues for not covering for you", "Call your supervisor or unit to inform them you will be late"], answer: "d"},
            {question: "You receive a confidential email about staff layoffs and are tempted to share it with a friend. You should practically:", options: ["Forward it immediately", "Post it on social media", "Only tell your closest friends", "Keep the information confidential until it is officially announced"], answer: "d"},
            {question: "A patient offers you a gift of food after you discharge them. To practically avoid any perceived conflict of interest, you should:", options: ["Accept it as it is rude to refuse", "Accept it but share it with the whole ward", "Ask for a more expensive gift instead", "Politely decline, explaining that your care is not dependent on gifts"], answer: "d"},
            {question: "You are a new health worker and are unsure how to perform a specific procedure. The practical and safe action is to:", options: ["Guess and do your best", "Watch a YouTube video on your phone", "Avoid the procedure entirely", "Ask a senior colleague for guidance and supervision"], answer: "d"},
            {question: "You notice a recurring typo in a standard prescription that could cause errors. The practical way to address this is to:", options: ["Correct it silently every time", "Mock the prescriber to other staff", "Report them to the medical council immediately", "Politely bring it to the attention of the prescriber so they can correct their template"], answer: "d"},
            {question: "Your shift is ending, and a critical task is unfinished. You should practically:", options: ["Leave immediately as your shift is over", "Do it quickly and poorly", "Blame the day shift for not finishing it", "Provide a proper handover to the incoming shift staff"], answer: "d"},
            {question: "You accidentally break a piece of valuable equipment. The practical response is to:", options: ["Hide the broken pieces", "Blame it on the last person who used it", "Try to fix it yourself with glue", "Report the breakage immediately to your supervisor"], answer: "d"},
            {question: "A colleague is consistently rude to patients. A practical first step to address this is to:", options: ["Post an anonymous complaint about them", "Be rude back to them", "Complain to all the patients about them", "Speak to them privately and express your concern about the impact on patients and the team"], answer: "d"},
            {question: "You are asked to work in a department you have no training in. You should:", options: ["Pretend you know what to do", "Refuse to work and go home", "Try to learn as you go, risking patient safety", "Politely explain your lack of training and ask for an orientation or reassignment"], answer: "d"},
            {question: "You find a wallet with cash in the hospital hallway. The practical and ethical action is to:", options: ["Keep the cash and throw the wallet away", "Ask everyone if they lost a wallet, but keep it if no one claims it immediately", "Take it to the police station yourself off-duty", "Turn it in to hospital security or administration"], answer: "d"},
            {question: "A rumor is spreading among staff about a possible hospital closure. You should practically:", options: ["Spread the rumor further to warn everyone", "Immediately start looking for another job", "Confront the hospital director demanding answers", "Wait for official communication from management and avoid fueling speculation"], answer: "d"},
            {question: "You strongly disagree with a new hospital policy. The professional way to address this is to:", options: ["Openly criticize it to patients", "Refuse to follow the policy", "Organize a staff strike", "Voice your concerns through official channels like staff meetings or suggestion boxes"], answer: "d"},
            {question: "You see a visitor smoking in a non-smoking area. The practical action is to:", options: ["Yell at them to put it out", "Ignore it as it's not your job", "Join them for a smoke", "Politely remind them of the policy and point them to the designated smoking area"], answer: "d"},
            {question: "A practical way a health worker can support the goal of Universal Health Coverage (UHC) is by:", options: ["Treating only patients who can pay cash", "Working only in urban areas", "Prescribing expensive branded drugs only", "Accurately documenting treatments to help track health outcomes and needs"], answer: "d"},
            {question: "The National Health Act gives patients the right to what?", options: ["To demand any treatment they want", "To be treated by a doctor of their choice only", "To get free medication for life", "To receive emergency care without prior payment and to consent to treatment"], answer: "d"},
            {question: "Under Public Service Rules, what is a practical requirement before taking annual leave?", options: ["Just leaving a note on your desk", "Telling your colleagues you'll be away", "Informing your patients directly", "Formally applying for and obtaining approval from your supervisor"], answer: "d"},
            {question: "A key practical aspect of the Primary Health Care (PHC) policy is:", options: ["Focusing only on advanced surgery in cities", "Treating only children", "Ignoring preventive services", "Providing first-contact, accessible, and community-based care"], answer: "d"},
            {question: "The NHIS is designed to practically help with what?", options: ["Increasing out-of-pocket payments for patients", "Building more tertiary hospitals", "Training doctors abroad", "Reducing financial barriers to accessing healthcare"], answer: "d"},
            {question: "A health worker misusing a government vehicle for personal trips is violating:", options: ["Traffic laws only", "No specific rule", "Clinical guidelines", "Public Finance Management rules on accountability for public assets"], answer: "d"},
            {question: "A practical way to uphold the principle of accountability in drug management is to:", options: ["Keep personal stocks of drugs at home", "Share drugs with friends", "Estimate stock levels without counting", "Maintain accurate stock ledgers and regularly reconcile physical stock with records"], answer: "d"},
            {question: "The 'One Health' approach practically requires a veterinarian to collaborate with whom on a zoonotic disease outbreak?", options: ["Only other veterinarians", "Farmers only", "Police officers only", "Human health workers, environmental officers, and wildlife experts"], answer: "d"},
            {question: "A practical implication of the Public Service Rule on confidentiality is that you should not:", options: ["Discuss patient cases in public elevators or cafeterias", "Document patient information", "Share information with other treating health staff", "Talk to your supervisor about a patient"], answer: "a"},
            {question: "A health worker wanting to implement a new community health initiative should first consult:", options: ["Only their own ideas", "International journals only", "Social media trends", "Existing national health policies and strategies to ensure alignment"], answer: "d"},
            {question: "A patient refuses a blood transfusion based on religious beliefs. A practical approach guided by ethics and policy is to:", options: ["Force them to have it", "Trick them into consenting", "Discharge them immediately for refusing care", "Respect their autonomy, ensure they understand the risks, and document the refusal thoroughly"], answer: "d"},
            {question: "A practical way to find official treatment guidelines for a specific condition is to:", options: ["Ask a random colleague for their opinion", "Use the first result on an internet search", "Follow what was done 20 years ago", "Refer to the Standard Treatment Guidelines and Essential Medicines List published by the government"], answer: "d"},
            {question: "A health worker discovers a loophole in the system that allows them to claim false call-duty allowances. They should:", options: ["Exploit the loophole for personal gain", "Teach the loophole to other staff", "Report the loophole to the finance department to be fixed", "Ignore it"], answer: "c"},
            {question: "The practical purpose of a Mortality and Morbidity (M&M) meeting is to:", options: ["Blame individual staff for errors", "Promote the best doctors", "Collectively review cases to identify system failures and improve future care", "Decide on patient bills"], answer: "c"},
            {question: "A new circular from the Ministry of Health changes the protocol for managing hypertension. The practical action for a clinician is to:", options: ["Ignore it and use the old protocol", "Frame the circular and hang it on the wall", "Read, understand, and begin implementing the new protocol in their practice", "Complain that change is difficult"], answer: "c"},
            {question: "A practical challenge in implementing the National Health Act is:", options: ["It is too short and simple", "It gives too many rights to patients", "Lack of funding and awareness of its provisions among health workers and the public", "It prevents all private practice"], answer: "c"},
            {question: "A health worker wanting to conduct operational research in their clinic must first get:", options: ["Permission from all patients", "A loan from the bank", "Ethical approval from a recognized health research ethics committee", "A signature from the local chief"], answer: "c"},
            {question: "The practical role of a Health Facility Committee (HFC) in a PHC is to:", options: ["Manage the health worker's salaries", "Clean the facility", "Provide community oversight and support for the facility's operations", "Provide medical treatment"], answer: "c"},
            {question: "A doctor working in a public facility also runs a private practice. A potential conflict of interest they must practically manage is:", options: ["Referring all public patients to their own private clinic for profit", "Working only at night in the public facility", "Keeping strict separation between the two practices and not using public resources for private gain", "Charging public patients private fees"], answer: "c"},
            {question: "A practical way for a health worker to promote the Sustainable Development Goals (SDGs) is by:", options: ["Working only on one specific disease", "Focusing only on urban health", "Contributing to the reduction of maternal mortality through quality antenatal and delivery care", "Ignoring global goals"], answer: "c"},
            {question: "You have 50 patients to see in a clinic designed for 30. A practical way to manage this safely is to:", options: ["See everyone quickly for 2 minutes each", "See only the first 30 and send the rest away", "Triage efficiently to identify and prioritize the most urgent cases first", "Ask patients to decide among themselves who is sickest"], answer: "c"},
            {question: "The only functional blood pressure cuff in the clinic breaks. Your practical immediate solution is to:", options: ["Stop checking blood pressure for all patients", "Guess the blood pressure based on how the patient looks", "Manually palpate the pulse and assess perfusion for critical cases while arranging for repair or replacement", "Buy a new one with your personal money"], answer: "c"},
            {question: "A critical drug is out of stock, and a patient cannot afford to buy it outside. A practical action is to:", options: ["Tell the patient there is nothing you can do", "Prescribe a more expensive alternative", "Check with nearby health facilities or see if a medical representative can provide a sample, while advocating for better stock management", "Give them a placebo"], answer: "c"},
            {question: "You are the only trained health worker on duty when a mass casualty incident occurs. Your first practical step is to:", options: ["Start treating the first victim you see", "Run away from the scene", "Call for emergency backup immediately and then begin triage", "Take a video on your phone"], answer: "c"},
            {question: "A community refuses polio vaccination due to misinformation. A practical strategy is to:", options: ["Force them to be vaccinated", "Ignore the community and focus on others", "Engage trusted community and religious leaders to help educate and build trust", "Report them to the police"], answer: "c"},
            {question: "You are suffering from burnout and making small errors. The practical and responsible thing to do is to:", options: ["Hide your condition and keep working", "Blame your colleagues for your errors", "Speak to your supervisor about your workload and seek support or time off", "Resign immediately"], answer: "c"},
            {question: "The hospital generator has run out of fuel during a surgery. The practical immediate action for the team is to:", options: ["Continue surgery by phone flashlight", "Abandon the patient on the table", "Use battery-powered portable lights and prioritize finishing the surgery or closing safely", "Wait for the power to come back"], answer: "c"},
            {question: "You are assigned to a rural clinic with very limited resources. Your first practical task should be to:", options: ["Complain about the posting", "Order expensive equipment you can't get", "Take stock of available equipment and supplies and learn to improvise safely where necessary", "Refuse to work"], answer: "c"},
            {question: "A language barrier is preventing you from taking a good history. A practical solution is to:", options: ["Shout until the patient understands", "Make up a history", "Use a colleague, family member, or official interpreter to translate", "Send the patient away"], answer: "c"},
            {question: "You need to transport a blood sample for testing in a remote area with no cooler. A practical way to keep it cool is to:", options: ["Leave it in the sun", "Put it next to a hot engine", "Wrap it in a wet cloth and place it in a breezy area to use evaporative cooling", "Keep it in your pocket"], answer: "c"},
            {question: "A practical way to prevent needle-stick injuries is to:", options: ["Recap used needles by hand", "Leave used needles on the patient's bed", "Immediately dispose of used sharps in a designated puncture-proof container", "Throw them in the regular bin"], answer: "c"},
            {question: "To practically manage a patient's severe bleeding with no commercial tourniquet available, you can use:", options: ["A dirty piece of cloth", "Apply mud to the wound", "A clean cloth and a stick to wind and apply pressure to the artery (windlass technique)", "Tell the patient to hold it"], answer: "c"},
            {question: "In a crowded outpatient ward, a practical way to help prevent the spread of tuberculosis is to:", options: ["Keep all windows and doors closed", "Spray perfume in the air", "Encourage cough etiquette and have good ventilation (open windows)", "Ask patients to stop breathing"], answer: "c"},
            {question: "A mother has brought a child for immunization but is visibly anxious. A practical way to gain her cooperation is to:", options: ["Threaten her with the law", "Forcefully hold the child down", "Explain the benefits simply, address her concerns calmly, and demonstrate confidence", "Skip the vaccination"], answer: "c"},
            {question: "You suspect an outbreak of measles in a school. Your practical first reporting action is to:", options: ["Wait for lab confirmation before doing anything", "Tell the teachers to keep it secret", "Immediately notify your supervisor and the disease surveillance officer", "Treat only the severe cases at your clinic"], answer: "c"},
            {question: "The water supply to the hospital is cut. A practical priority for infection control is to:", options: ["Use alcohol-based hand rub if available, or set up a temporary handwashing station with stored water", "Stop washing hands", "Reuse gloves between patients", "Close the hospital"], answer: "a"},
{question: "A practical challenge of 'brain drain' is that it often leaves health facilities with:", options: ["A high workload for the remaining staff and a lack of senior mentors", "Too many specialists", "Too much funding", "No patients"], answer: "a"},
{question: "A patient defaults on their TB treatment because they cannot afford transport to the clinic. A practical solution is to:", options: ["Explore if a community volunteer can support DOT closer to their home", "Discharge them as non-compliant", "Blame the patient", "Pay for their transport out of your own pocket every day"], answer: "a"},
{question: "You are asked to falsify data to make your health facility's performance look better. You should:", options: ["Refuse, as accurate data is crucial for planning and resource allocation", "Agree to do it to protect the facility's reputation", "Ask for a bribe to do it", "Only change a few numbers"], answer: "a"},
{question: "A major practical barrier to effective telemedicine in many parts of Nigeria is:", options: ["Poor internet connectivity and electricity supply", "Lack of diseases to treat", "Too many doctors", "Patients prefer it too much"], answer: "a"},
{question: "A farmer reports sudden deaths in his poultry flock. As a public service veterinarian, your first practical action is to:", options: ["Visit the farm to investigate, wear PPE, and collect samples for diagnosis, suspecting zoonotic potential like Avian Influenza", "Advise him to sell the birds quickly", "Ignore it as an animal problem only", "Tell him to bury the birds and forget it"], answer: "a"},
{question: "During a routine meat inspection at an abattoir, you notice cysts in the muscles of a carcass. This is a practical sign of possible:", options: ["Cysticercosis (tapeworm cysts), a zoonotic disease, and the carcass should be condemned", "Good animal nutrition", "A rare delicacy", "Freezing damage"], answer: "a"},
{question: "A dog that bit a child has been captured. The practical way to confirm or rule out rabies is to:", options: ["Test the child immediately for rabies", "Observe the dog for 10 days for signs of illness", "Kill the dog and dispose of the body", "Release the dog and hope for the best"], answer: "a"},
{question: "To practically control the spread of rabies in a community, a veterinarian should prioritize:", options: ["Mass vaccination of dogs and public education on responsible pet ownership", "Culling all stray dogs", "Treating only human cases", "Importing human vaccines only"], answer: "a"},
{question: "A practical way to check for dehydration in a calf with diarrhea is to:", options: ["Pinch the skin on its neck; if it retracts slowly, the calf is dehydrated", "Ask the calf if it is thirsty", "Check the color of its fur", "See if it is eating grass"], answer: "a"},
{question: "You are investigating a suspected anthrax outbreak in cattle. The most critical practical safety precaution for you is to:", options: ["Use full PPE (gloves, mask, gown) and avoid autopsying animals to prevent spore release", "Wear no protective gear", "Cook the meat from the animals well", "Shake hands with the farmers"], answer: "a"},
{question: "A practical component of 'One Health' in action is a veterinarian participating in:", options: ["A joint outbreak response team with medical doctors and environmental health officers", "A human surgery", "A financial market meeting", "A school parents' meeting"], answer: "a"},
{question: "A common zoonotic disease transmitted through unpasteurized milk is:", options: ["Brucellosis", "Malaria", "Hypertension", "Diabetes"], answer: "a"},
{question: "During ante-mortem inspection, an animal is found to be febrile and lethargic. The practical action is to:", options: ["Separate it as suspect and withhold from slaughter pending further examination", "Pass it for slaughter immediately", "Slaughter it last", "Ignore the signs"], answer: "a"},
{question: "The practical purpose of a ring vaccination strategy during a foot-and-mouth disease outbreak is to:", options: ["Create a buffer of immune animals around an outbreak zone to contain spread", "Vaccinate only show animals", "Vaccinate every animal in the country", "Vaccinate based on the animal's color"], answer: "a"},
{question: "A farmer reports a pig showing neurological signs like circling and convulsions. A practical zoonotic concern is:", options: ["Japanese Encephalitis or other diseases transmissible to humans", "The pig is just stupid", "The pig is faking it", "Nutritional deficiency only"], answer: "a"},
{question: "A practical way to encourage community reporting of animal diseases is to:", options: ["Build trust, ensure confidentiality, and demonstrate the benefit of early reporting", "Fine farmers for reporting", "Ignore all reports", "Set up a toll-free number no one knows"], answer: "a"},
{question: "You need to administer a vaccine to a large, aggressive bull. The safest practical method is to:", options: ["Use a crush or restraint chute to safely immobilize the animal", "Challenge the bull to a fight", "Ask the farmer to hold it by the horns", "Skip vaccination for this animal"], answer: "a"},
{question: "A key practical difference between a notifiable and a non-notifiable animal disease is that notifiable diseases:", options: ["Must be reported to authorities immediately due to their economic or public health impact", "Are less serious", "Only affect wild animals", "Are not found in Nigeria"], answer: "a"},
{question: "Post-mortem findings of a swollen, friable liver and ascites in an animal suggest possible:", options: ["Fascioliasis (liver fluke infestation)", "Excellent health", "A muscular build", "Old age"], answer: "a"},
{question: "A practical environmental source of leptospirosis infection for both animals and humans is:", options: ["Stagnant water contaminated with urine from infected animals", "Dry sand", "Clean tap water", "Well-fertilized soil"], answer: "a"},
{question: "To practically prevent antibiotic resistance on a farm, a veterinarian should advise farmers to:", options: ["Use antibiotics only under veterinary prescription and complete the full course", "Use antibiotics as growth promoters", "Mix antibiotics with feed routinely", "Use higher than recommended doses"], answer: "a"},
{question: "A practical sign of mange (a parasitic skin disease) in an animal is:", options: ["Intense itching, hair loss, and crusting of the skin", "A shiny coat", "Increased milk production", "Weight gain"], answer: "a"},
{question: "When collecting a blood sample from a horse for testing, a common practical site is the:", options: ["Jugular vein in the neck", "Ear tip", "Hoof", "Tail"], answer: "a"},
{question: "The practical goal of herd health management is to:", options: ["Focus on preventive care to keep the entire group healthy and productive", "Treat only sick animals", "Maximize use of medicines", "Ignore the herd and focus on individuals"], answer: "a"},
{question: "A practical way to encourage farmers to report animal disease outbreaks is to:", options: ["Threaten them with fines", "Ignore reports", "Build trust and demonstrate how early reporting can save their herd and others", "Pay them for each report"], answer: "c"},
{question: "You are advising a dairy farmer on mastitis control. A practical and key measure is:", options: ["Milking with dirty hands", "Using the same towel for all cows", "Proper milking hygiene, including teat dipping after milking", "Milking the sick cows first"], answer: "c"}
        ]; 

    shuffleArray(questions);
let currentQuestion = 0;
let score = 0;
let timer;
let timeRemaining = 2000;
let answers = new Array(questions.length).fill(null);

function displayQuestion(index) {
    currentQuestion = index;
    const questionText = document.getElementById("question-text");
    const optionsContainer = document.getElementById("options-container");
    
    questionText.textContent = `Question ${index + 1}: ${questions[index].question}`;
    optionsContainer.innerHTML = "";
    
    questions[index].options.forEach((option, i) => {
        const value = String.fromCharCode(97 + i);
        const input = document.createElement("input");
        input.type = "radio";
        input.name = "answer";
        input.value = value;
        input.id = `option${i + 1}`;
        
        // Check if this answer was previously selected
        if (answers[index] === value) {
            input.checked = true;
        }
        
        const label = document.createElement("label");
        label.htmlFor = `option${i + 1}`;
        label.textContent = `${String.fromCharCode(65 + i)}. ${option}`;
        
        optionsContainer.appendChild(input);
        optionsContainer.appendChild(label);
        optionsContainer.appendChild(document.createElement("br"));
    });

    // Update the question buttons to highlight the current question
    updateQuestionButtons();
}

function createQuestionButtons() {
    const buttonsContainer = document.getElementById('question-buttons');
    buttonsContainer.innerHTML = '';
    
    questions.forEach((_, index) => {
        const button = document.createElement('button');
        button.className = 'question-btn';
        button.textContent = index + 1;
        button.onclick = () => navigateToQuestion(index);
        buttonsContainer.appendChild(button);
    });
    
    updateQuestionButtons();
}

function updateQuestionButtons() {
        const buttons = document.querySelectorAll('.question-btn');
        
        buttons.forEach((button, index) => {
            // Reset all button classes
            button.className = 'question-btn';
            
            // Highlight current question
            if (index === currentQuestion) {
                button.classList.add('current');
            }
            
            // Mark answered questions
            if (answers[index] !== null) {
                if (answers[index] === questions[index].answer) {
                    button.classList.add('answered-correct');
                } else {
                    button.classList.add('answered-wrong');
                }
            }
        });
    }

function navigateToQuestion(index) {
    checkAnswer();
    displayQuestion(index);
}

function startTimer() {
    timer = setInterval(() => {
        if (timeRemaining > 0) {
            timeRemaining--;
            const minutes = Math.floor(timeRemaining / 60).toString().padStart(2, '0');
            const seconds = (timeRemaining % 60).toString().padStart(2, '0');
            document.getElementById("timer").textContent = `Time Remaining: ${minutes}:${seconds}`;
        } else {
            clearInterval(timer);
            submitExam();
        }
    }, 1000);
}

function nextQuestion() {
    checkAnswer();
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        displayQuestion(currentQuestion);
    } else {
        alert("You are on the last question.");
    }
}

function previousQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        displayQuestion(currentQuestion);
    } else {
        alert("You are on the first question.");
    }
}

function checkAnswer() {
    const selectedOption = document.querySelector("input[name='answer']:checked");
    if (selectedOption) {
        answers[currentQuestion] = selectedOption.value;
        score = answers.reduce((total, answer, idx) => {
            return answer === questions[idx].answer ? total + 1 : total;
        }, 0);
        
        // Update the question buttons to reflect the answered question
        updateQuestionButtons();
    }
}

function submitExam() {
    clearInterval(timer);
    checkAnswer();
    
    const percentage = ((score / questions.length) * 100).toFixed(1);
    const popup = document.getElementById("score-popup");
    const overlay = document.getElementById("overlay");
    
    document.getElementById("total-questions").textContent = questions.length;
    document.getElementById("correct-answers").textContent = score;
    document.getElementById("percentage").textContent = `${percentage}%`;
    
    const resultMessage = document.getElementById("result-message");
    resultMessage.className = percentage >= 70 ? "result-message pass" : "result-message fail";
    resultMessage.textContent = percentage >= 70 ? 
        "🎉 Congratulations! You passed!" : 
        "❌ You need more practice. Try again!";

        const failedList = document.getElementById('failed-questions-list');
            failedList.innerHTML = '';
            
            const failedQuestions = answers.reduce((acc, answer, index) => {
                if (answer !== questions[index].answer) {
                    acc.push({
                        question: questions[index].question,
                        number: index + 1,
                        correctAnswer: questions[index].answer.toUpperCase()
                    });
                }
                return acc;
            }, []);

            if (failedQuestions.length > 0) {
                failedQuestions.forEach(q => {
                    const li = document.createElement('li');
                    li.textContent = `Question ${q.number}: ${q.question} (Correct Answer: ${q.correctAnswer})`;
                    failedList.appendChild(li);
                });
            } else {
                const li = document.createElement('li');
                li.textContent = 'All questions answered correctly!';
                li.classList.add('no-failed');
                failedList.appendChild(li);
            }
    
    popup.style.display = "block";
    overlay.style.display = "block";
    
    // Close pop-up handler
    document.getElementById("close-popup").onclick = function() {
        popup.style.display = "none";
        overlay.style.display = "none";
    };
};

window.onload = function() {
    createQuestionButtons();
    displayQuestion(currentQuestion);
    startTimer();
};
</script>

</body>
</html>
