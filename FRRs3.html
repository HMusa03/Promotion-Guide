<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CBT Exam Simulation</title>
    <link rel="icon" type="image/png" href="images/COA.png">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #b3c7fc;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            background-color: #004080;
            color: #ffffff;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative; 
        }

        header img {
            height: 100px;            
        }
        .profile-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-left: 20px;
        gap: 10px;
    }

    .profile-pic {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        border: 3px solid #fff;
        margin-bottom: 5px;
    }

    .user-info {
        color: #fff;
        text-align: center;
        font-size: 14px;
        line-height: 1.2;
    }

    nav h1 {
            color: #ffffff;
            margin: 0;
            font-size: 30px;
            flex-grow: 1;
            text-align: left;
        }

        nav {
            display: flex;
            justify-content: left;
            background-color: #003366;
            padding: 10px;
        }

        nav a {
            color: #ffffff;
            text-decoration: none;
            padding: 10px 20px;
            margin: 0 10px;
            font-size: 18px;
            border-radius: 5px;
        }

        nav a:hover {
            background-color: #005bb5;
        }

        .main-content {
            display: flex;
            flex: 1;
        }

        .container {
            width: 60%;
            margin: 20px auto;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .question {
            margin-bottom: 20px;
        }

        .navigation-buttons button {
            padding: 10px 15px;
            margin: 5px;
            background-color: #004080;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .navigation-buttons button:hover {
            background-color: #003366;
        }

        footer {
            background-color: #003366;
            color: #ffffff;
            text-align: center;
            padding: 15px;
            width: 100%;
        }

        #timer {
            font-size: 18px;
            color: white;
        }

        /* Score Pop-up Styles */
        .score-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 500px;
            padding: 30px;
            background: #f0faff;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            z-index: 1000;
            text-align: center;
            border: 3px solid #004080;
            animation: popIn 0.3s ease-out;
        }

        .score-popup h2 {
            color: #004080;
            font-size: 28px;
            margin-bottom: 15px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .score-popup p {
            font-size: 20px;
            margin: 15px 0;
            color: #333;
            font-weight: 600;
        }

        .score-popup .percentage {
            font-size: 42px;
            font-weight: 800;
            color: #004080;
            margin: 20px 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .score-popup .result-message {
            font-size: 22px;
            font-weight: 700;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .pass {
            background: #e8f5e9;
            color: #2e7d32;
            border: 2px solid #2e7d32;
        }

        .fail {
            background: #ffebee;
            color: #c62828;
            border: 2px solid #c62828;
        }

        #close-popup {
            background: #004080;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        #close-popup:hover {
            background: #003366;
            transform: scale(1.05);
        }

        /* Animation */
        @keyframes popIn {
            from {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0;
            }
            to {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
        }

      .failed-questions {
            margin: 20px 0;
            text-align: left;
            width: 100%;
        }

        .failed-questions h3 {
            color: #c62828;
            margin-bottom: 10px;
            font-size: 18px;
        }

        #failed-questions-list {
            max-height: 150px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            margin: 0 auto;
            width: 90%;
        }

        #failed-questions-list li {
            padding: 8px;
            margin: 5px 0;
            background-color: #ffebee;
            border-left: 4px solid #c62828;
            list-style-type: none;
            font-size: 14px;
        }

        #failed-questions-list li:nth-child(even) {
            background-color: #fce4ec;
        }

        .no-failed {
            color: #2e7d32;
            font-style: italic;
        }

        /* Question Navigation Panel */
        .question-nav-panel {
            width: 30%;
            background-color: #f0f0f0;
            padding: 20px;
            border-left: 1px solid #ddd;
            height: calc(100vh - 200px);
            overflow-y: auto;
            position: sticky;
            top: 0;
        }

        .question-nav-panel h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #004080;
        }

        .question-buttons {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
        }

        .question-btn {
            width: 100%;
            padding: 8px 0;
            background-color: #004080; /* Blue for unanswered */
            color: white;
            border: 1px solid #003366;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .question-btn:hover {
            background-color: #005bb5;
            transform: scale(1.05);
        }

        .question-btn.current {
            background-color: #004080;
            color: white;
            font-weight: bold;
            box-shadow: 0 0 0 2px white, 0 0 0 4px #004080;
        }

        .question-btn.answered-correct {
            background-color: #4CAF50; /* Green for correct */
            border-color: #388E3C;
        }

        .question-btn.answered-wrong {
            background-color: #f44336; /* Red for wrong */
            border-color: #d32f2f;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            .container {
                width: 90%;
            }
            .question-nav-panel {
                width: 100%;
                height: auto;
                border-left: none;
                border-top: 1px solid #ddd;
                order: -1;
            }
            .question-buttons {
                grid-template-columns: repeat(10, 1fr);
            }
        }
    </style>
</head>
<body>

    <header>
      <div class="profile-container">
        <img src="images/profile.jpeg" alt="Profile Picture" class="profile-pic">
        <div class="user-info">Mr. Promotion Exam<br>ID: FCT/12345</div>
    </div>
    <nav><a href="FRRs.html">Home</a> </nav> 
    </header>
    
    <nav>
        <h1>Financial Regulations Rules {FRRs} (100 Qs) </h1>
        <h3 id="timer">Time Remaining: 34:00</h3>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
    </nav>

    <div class="main-content">
        <div class="container">
            <div id="question-container" class="question">
                <p id="question-text"></p>
                <div id="options-container"></div>
            </div>
        
            <div class="navigation-buttons">
                <button id="previous-button" onclick="previousQuestion()"><strong>Previous</strong></button>
                <button id="next-button" onclick="nextQuestion()"><strong>Next</strong></button>
                <button id="submit-button" onclick="submitExam()"><strong>Submit Exam</strong></button>
            </div>
        
            <div id="result" style="display: none; margin-top: 20px; font-size: 20px; color: green;"></div>
        </div>
        
        <!-- Question Navigation Panel -->
        <div class="question-nav-panel">
            <h3>Questions</h3>
            <div class="question-buttons" id="question-buttons">
                <!-- Question buttons will be generated by JavaScript -->
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay" style="display: none;"></div>
    <div class="score-popup" id="score-popup" style="display: none;">
        <h2>Exam Results</h2>
        <p>Total Questions: <span id="total-questions"></span></p>
        <p>Total Scores: <span id="correct-answers"></span></p>
        <div class="percentage" id="percentage"></div>
        <div class="result-message" id="result-message"></div>
        <!-- Add Failed Questions Section -->
        <div class="failed-questions">
            <h3>Failed Questions:</h3>
            <ul id="failed-questions-list"></ul>
        </div>
        <button id="close-popup">Close</button>
    </div>

<footer>
    <p>&copy; 2024 HM Solutions & Co. | All Rights Reserved</p>
</footer>

<script>
    // Add this shuffle function at the beginning of your script
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}
    const questions = [
  {
    question: "When a deposit is refunded, what accounting entry is made?",
    options: ["Debit revenue, credit expenditure", "Credit deposit ledger, debit cash book", "Credit cash book, debit deposit ledger", "Credit vote book, debit cash book"],
    answer: "b"
  },
  {
    question: "Under what condition can deposits be transferred to revenue?",
    options: ["When the depositor consents", "After 10 years", "If not claimed within the statutory period", "When the ministry is dissolved"],
    answer: "c"
  },
  {
    question: "All deposit records must be retained for a minimum of how many years?",
    options: ["3 years", "5 years", "7 years", "10 years"],
    answer: "d"
  },
  {
    question: "Which of the following is NOT a valid reason to hold a deposit?",
    options: ["Security for contract", "Performance bond", "Pending contract payment", "To pay personal debt"],
    answer: "d"
  },
  {
    question: "Deposits relating to unexecuted contracts should be?",
    options: ["Forfeited", "Transferred to reserves", "Held in suspense", "Returned to the depositor"],
    answer: "d"
  },
  {
    question: "Who determines the period after which unclaimed deposits are considered revenue?",
    options: ["President", "Auditor-General", "Accountant-General", "National Assembly"],
    answer: "c"
  },
  {question: "The classification of deposits as liabilities is due to their?", options: ["Recurring nature", "Temporary custody", "Expenditure status", "Budgetary importance"], answer: "b"},
  {question: "A deposit account must be supported by which of the following?", options: ["Bank statement", "Receipted voucher", "Letter from the depositor", "Deposit slip and relevant documentation"], answer: "d"  },
  { question: "When deposits are repaid, it should be noted in the?",  options: ["Expenditure Ledger", "Deposit Ledger and Cash Book", "Store Register", "Nominal Roll"], answer: "b"  },
  { question: "At the end of each fiscal year, outstanding deposits should be?", options: ["Written off", "Revalidated", "Reviewed and reported", "Returned to the Treasury"], answer: "c"  },
  {
    question: "Which of the following best defines a government advance?",
    options: ["A payment made for completed projects", "A loan granted to public servants for specific purposes", "A donation from the treasury", "A grant from international partners"],
    answer: "b"
  },
  {
    question: "Personal advances are typically granted to public officers for what purpose?",
    options: ["To pay salaries", "To support private businesses", "To meet specific service-related needs", "To fund overseas vacations"],
    answer: "c"
  },
  {
    question: "What must be done before any advance is granted?",
    options: ["Approval from the National Assembly", "Proper application and approval by competent authority", "Notification of the Auditor-General", "Consent of the Head of State"],
    answer: "b"
  },
  {
    question: "Advances that are not recovered within the stipulated period are classified as?",
    options: ["Bad debts", "Liabilities", "Loss of funds", "Outstanding advances"],
    answer: "d"
  },
  {
    question: "Which ledger is used to track all advances issued and repayments made?",
    options: ["Vote Ledger", "Imprest Ledger", "Advance Ledger", "Asset Register"],
    answer: "c"
  },
  {
    question: "Advances to contractors are categorized as?",
    options: ["Overheads", "Special imprests", "Other charges", "Contract advances"],
    answer: "d"
  },
  {
    question: "Who is responsible for the control and recovery of advances?",
    options: ["Internal Auditor", "Head of Department", "Store Officer", "Accountant-General"],
    answer: "b"
  },
  {
    question: "Which of the following is NOT a type of advance?",
    options: ["Travel advance", "Salary advance", "Capital advance", "Vehicle advance"],
    answer: "c"
  },
  {
    question: "All recoveries of advances must be recorded in the?",
    options: ["Vote Book", "Advance Ledger", "Expenditure Register", "Cash Book"],
    answer: "b"
  },
  {
    question: "Repayment of personal advances is typically made through?",
    options: ["Reimbursement", "Cheque payment", "Direct cash deposit", "Monthly salary deductions"],
    answer: "d"
  },
  {
    question: "What document is required to support the granting of an advance?",
    options: ["Budget proposal", "Formal application and approval", "Stores receipt", "Nominal roll"],
    answer: "b"
  },
  {
    question: "Advances that have not been fully recovered are shown in the accounts as?",
    options: ["Expenses", "Liabilities", "Assets", "Revenue"],
    answer: "c"
  },
  {
    question: "Refund of an unutilized portion of advance should be made?",
    options: ["After 6 months", "Immediately upon completion of the activity", "Only after audit inspection", "When a replacement is available"],
    answer: "b"
  },
  {
    question: "Failure to retire an advance within the specified time may lead to?",
    options: ["Promotion", "Suspension", "Disciplinary action", "Bonus payment"],
    answer: "c"
  },
  {
    question: "Who has the authority to approve the granting of advances in MDAs?",
    options: ["President", "Auditor-General", "Head of Accounts", "Accounting Officer or Head of MDA"],
    answer: "d"
  },
  {
    question: "What is the main objective of payroll preparation in the public service?",
    options: ["To overpay allowances", "To ensure salaries are paid to political appointees only", "To ensure accuracy and control of salary payments", "To inflate staff strength"],
    answer: "c"
  },
  {
    question: "Which document is used as the basis for preparing the salary payroll?",
    options: ["Nominal roll", "Store ledger", "Cash book", "Retirement list"],
    answer: "a"
  },
  {
    question: "Who is responsible for preparing the payroll in MDAs?",
    options: ["Store officer", "Internal auditor", "Account department", "Driver in charge"],
    answer: "c"
  },
  {
    question: "The payroll must be certified by the Head of Accounts and the?",
    options: ["Minister", "Budget officer", "Internal auditor", "Director of Administration"],
    answer: "d"
  },
  {
    question: "What is the purpose of salary control registers?",
    options: ["To promote junior staff", "To track capital projects", "To control salary payments and monitor variations", "To distribute office supplies"],
    answer: "c"
  },
  {
    question: "A new staff must be included in the payroll only after?",
    options: ["They receive their ID card", "Proper documentation and authorization", "Attending training", "Receiving their first promotion"],
    answer: "b"
  },
  {
    question: "Ghost workers can best be prevented by?",
    options: ["Using manual records only", "Avoiding salary audits", "Conducting regular staff verification", "Eliminating the payroll system"],
    answer: "c"
  },
  {
    question: "Salary overpayments are to be treated as?",
    options: ["Gifts", "Revenue", "Advances", "Loss of funds"],
    answer: "d"
  },
  {
    question: "When should deductions from salaries (e.g. tax, NHF) be remitted?",
    options: ["Once a year", "Every five years", "Immediately after payment", "Within the next quarter"],
    answer: "c"
  },
  {
    question: "Which of the following should not be included in the payroll?",
    options: ["Staff on interdiction", "Staff on annual leave", "Deceased officers", "Pensioners"],
    answer: "c"
  },
  {
    question: "Which regulation governs the periodic audit of salary payments?",
    options: ["Revenue Code", "Procurement Act", "Financial Regulations", "Penal Code"],
    answer: "c"
  },
  {
    question: "What happens when a public servant resigns?",
    options: ["Their name remains on payroll", "Their salary is increased", "They are issued a letter of commendation", "Their name is removed from the payroll immediately"],
    answer: "d"
  },
  {
    question: "The internal audit unit ensures that salary payments are?",
    options: ["Delayed", "Inflated", "Accurate and justified", "Avoided"],
    answer: "c"
  },
  {
    question: "Which officer is responsible for verifying variations in salary payments?",
    options: ["Cleaning officer", "Cashier", "Internal auditor", "Driver"],
    answer: "c"
  },
  {
    question: "Unauthorized inclusion of names in the payroll constitutes?",
    options: ["A mere error", "A civil service reform", "A financial irregularity", "A constitutional amendment"],
    answer: "c"
  },
  {
    question: "What does 'Self-Accounting Status' imply for a government agency?",
    options: ["It operates without oversight", "It prepares and manages its own budget and accounts", "It collects taxes independently", "It no longer reports to the National Assembly"],
    answer: "b"
  },
  {
    question: "Which body approves the grant of self-accounting status to MDAs?",
    options: ["Public Complaints Commission", "National Orientation Agency", "Minister of Finance", "Federal Executive Council"],
    answer: "d"
  },
  {
    question: "Self-accounting agencies are responsible for which of the following?",
    options: ["Issuing currency", "Carrying out their own internal and external audit", "Creating laws", "Conducting political campaigns"],
    answer: "b"
  },
  {
    question: "Which officer in a self-accounting agency is responsible for budget implementation?",
    options: ["Cleaner", "Head of Accounts", "Permanent Secretary", "Chief Driver"],
    answer: "b"
  },
  {
    question: "What is one major advantage of self-accounting status?",
    options: ["Exemption from financial regulations", "Freedom to print money", "Autonomy in financial administration", "Control over judiciary matters"],
    answer: "c"
  },
  {
    question: "A self-accounting agency must comply with which of the following?",
    options: ["Only political directives", "Customary laws", "Financial Regulations and Treasury Circulars", "Press releases"],
    answer: "c"
  },
  {
    question: "How does a self-accounting agency receive its funds?",
    options: ["Direct from Internally Generated Revenue", "From international donors", "Through an annual lump sum grant from the Treasury", "Via state government accounts"],
    answer: "c"
  },
  {
    question: "Which document serves as a guideline for self-accounting MDAs?",
    options: ["Company policy manual", "Financial Guidelines for Parastatals", "National population census", "Electoral Act"],
    answer: "b"
  },
  {
    question: "Self-accounting agencies are expected to maintain which type of accounting books?",
    options: ["Religious records", "Personal diaries", "Standard government accounting books", "SMS logs"],
    answer: "c"
  },
  {
    question: "Failure of a self-accounting agency to comply with financial regulations can lead to?",
    options: ["More funding", "National awards", "Sanctions and withdrawal of the status", "Automatic privatization"],
    answer: "c"
  },
  {
    question: "Who provides financial oversight for self-accounting agencies?",
    options: ["The general public", "Private banks", "Office of the Accountant-General of the Federation", "Local traditional rulers"],
    answer: "c"
  },
  {
    question: "Which of the following is a duty of the internal audit unit in self-accounting MDAs?",
    options: ["Organizing social events", "Approving political appointments", "Monitoring financial compliance", "Issuing driving permits"],
    answer: "c"
  },
  {
    question: "One of the primary financial controls in a self-accounting agency is?",
    options: ["Weekly church attendance", "Salary increment for all staff", "Budgetary control", "Daily newspaper briefing"],
    answer: "c"
  },
  {
    question: "Can a self-accounting agency be audited by external auditors?",
    options: ["Only when requested", "Yes, periodically as required", "No, they are exempt", "Only during political transitions"],
    answer: "b"
  },
  {
    question: "Which of the following qualifies an MDA for self-accounting status?",
    options: ["Ability to generate viral social media posts", "Demonstrated financial discipline and capacity to manage its finances", "Having more than 1,000 staff", "Geographical size of the agency"],
    answer: "b"
  },
  {
    question: "What is the primary role of the Internal Audit Unit in an MDA?",
    options: ["To prepare payrolls", "To ensure financial compliance and detect irregularities", "To conduct recruitment exercises", "To manage press releases"],
    answer: "b"
  },
  {
    question: "To whom does the Internal Auditor report directly?",
    options: ["Clerk of the National Assembly", "Minister of Information", "Head of Internal Security", "Accounting Officer of the MDA"],
    answer: "d"
  },
  {
    question: "Which of the following is a key duty of the Internal Auditor?",
    options: ["Issuing loans to staff", "Verifying the accuracy of financial records", "Hiring external consultants", "Preparing statutory budgets"],
    answer: "b"
  },
  {
    question: "What document must Internal Auditors submit regularly?",
    options: ["Birth certificates", "Monthly audit report", "Driving license", "Personal savings record"],
    answer: "b"
  },
  {
    question: "Internal Audit Units are expected to work with which of the following standards?",
    options: ["Religious principles", "Personal preferences", "Government accounting standards and financial regulations", "Social media trends"],
    answer: "c"
  },
  {
    question: "Which financial control system is strengthened by effective internal auditing?",
    options: ["Advertising budget", "Revenue forecasting", "Internal checks and balances", "Population control"],
    answer: "c"
  },
  {
    question: "The Internal Audit Unit is expected to conduct audits on which of the following?",
    options: ["Foreign embassies", "Political rallies", "All financial transactions within the MDA", "Only ministerial speeches"],
    answer: "c"
  },
  {
    question: "Which tool is commonly used by Internal Auditors?",
    options: ["Microscope", "Audit query", "Security badge", "Architectural drawing"],
    answer: "b"
  },
  {
    question: "What is the effect of an audit query not properly addressed?",
    options: ["Promotion of the staff", "Improved morale", "Administrative or disciplinary action", "Approval for more grants"],
    answer: "c"
  },
  {
    question: "Who is responsible for responding to audit queries?",
    options: ["Internal Auditor", "Permanent Secretary of Finance", "Accounting Officer concerned", "Minister of Sports"],
    answer: "c"
  },
  {
    question: "Which of the following may be an outcome of internal audit findings?",
    options: ["Financial reform recommendations", "Political manifesto update", "Public protest", "Cultural festival approval"],
    answer: "a"
  },
  {
    question: "Which department often collaborates with Internal Audit for financial accountability?",
    options: ["Fire service", "Library department", "Accounts department", "Media unit"],
    answer: "c"
  },
  {
    question: "When an irregularity is found, what should the Internal Audit Unit do?",
    options: ["Destroy the evidence", "Ignore and move on", "Report to the Accounting Officer", "Publish on social media"],
    answer: "c"
  },
  {
    question: "What is the major difference between Internal and External Audit?",
    options: ["External audit is less formal", "Internal audit is more fun", "Internal audit is continuous and within the MDA", "External audit is conducted by drivers"],
    answer: "c"
  },
  {
    question: "Which of the following can lead to inefficiency in the Internal Audit Unit?",
    options: ["Strict adherence to rules", "Regular reporting", "Poor funding and lack of independence", "Regular training"],
    answer: "c"
  },
  {
    question: "What is the main purpose of a Board of Survey on cash and stamps?",
    options: ["To approve promotions", "To verify and certify balances of cash and stamps", "To train new officers", "To conduct public interviews"],
    answer: "b"
  },
  {
    question: "Who is responsible for appointing the Board of Survey?",
    options: ["President of the union", "Head of Civil Service", "Accounting Officer", "Head of Internal Audit"],
    answer: "c"
  },
  {
    question: "How frequently should a Board of Survey on cash and stamps be convened?",
    options: ["Once in five years", "Every month", "Annually or as directed", "Only during a public holiday"],
    answer: "c"
  },
  {
    question: "Which of the following should be included in the Board of Survey report?",
    options: ["Audit policy review", "Verification of physical cash and stamp balances", "New policy recommendations", "List of political appointees"],
    answer: "b"
  },
  {
    question: "What should happen if discrepancies are found during a Board of Survey?",
    options: ["They should be ignored", "They must be documented and reported immediately", "The officer should be given a gift", "The matter should be sent to the media"],
    answer: "b"
  },
  {
    question: "Which of the following is **NOT** typically examined by the Board of Survey?",
    options: ["Cash on hand", "Stamps in use", "Bank loans", "Unused revenue stamps"],
    answer: "c"
  },
  {
    question: "The Board of Survey is required to submit its report to whom?",
    options: ["The public", "The press secretary", "The Accounting Officer", "The staff union"],
    answer: "c"
  },
  {
    question: "What is the role of the chairman in the Board of Survey?",
    options: ["To write cheques", "To lead the verification process and ensure accurate documentation", "To supervise cleaning staff", "To recruit clerks"],
    answer: "b"
  },
  {
    question: "A major function of the Board of Survey includes?",
    options: ["Awarding contracts", "Ensuring revenue stamps are authentic and properly accounted for", "Launching new websites", "Conducting entrance exams"],
    answer: "b"
  },
  {
    question: "What document guides the conduct of the Board of Survey?",
    options: ["Banking Act", "Electoral Guidelines", "Financial Regulations", "Labour Code"],
    answer: "c"
  },
  {
    question: "In case of a loss of cash discovered by the Board, what must be done?",
    options: ["Sell government assets", "Write off the loss immediately", "Initiate appropriate disciplinary action and recover the funds", "Call for a protest"],
    answer: "c"
  },
  {
    question: "How many officers should ideally be part of the Board of Survey?",
    options: ["One", "Three or more", "Ten", "None"],
    answer: "b"
  },
  {
    question: "Which of the following items would the Board of Survey **NOT** likely inspect?",
    options: ["Petty cash vouchers", "Revenue stamps", "Computer passwords", "Cashbook balances"],
    answer: "c"
  },
  {
    question: "If the Board finds the cash balance short, what must the officer responsible do?",
    options: ["Leave the country", "Replace the shortfall immediately or explain in writing", "Demand a bonus", "Blame the supervisor"],
    answer: "b"
  },
  {
    question: "What is the benefit of the Board of Survey exercise?",
    options: ["Reduces office meetings", "Ensures transparency and accountability in cash/stamp handling", "Avoids tax payments", "Encourages staff vacations"],
    answer: "b"
  },
  {
    question: "Which body is primarily responsible for pension administration in the Federal Public Service?",
    options: ["The Federal Inland Revenue Service", "The Nigeria Customs Service", "The Pension Transitional Arrangement Directorate (PTAD)", "The Ministry of Sports"],
    answer: "c"
  },
  {
    question: "What is the main objective of the pension scheme in the public service?",
    options: ["To provide free housing", "To offer political appointments", "To ensure retired officers receive regular income", "To fund state elections"],
    answer: "c"
  },
  {
    question: "What is the role of the Accounting Officer in pension administration?",
    options: ["Issue passports to retirees", "Keep pension records and ensure accurate processing", "Lead political campaigns", "Conduct interviews for private jobs"],
    answer: "b"
  },
  {
    question: "When does a public officer typically become eligible for pension?",
    options: ["After 1 year of service", "Upon resignation", "After qualifying service and reaching the age of retirement", "After getting married"],
    answer: "c"
  },
  {
    question: "Which document is essential when processing pension claims?",
    options: ["Marriage certificate", "Driving license", "Record of Service", "Voter's card"],
    answer: "c"
  },
  {
    question: "What type of pension is payable to an officer who retires due to ill health?",
    options: ["Deferred pension", "Political pension", "Compassionate pension", "Invalid pension"],
    answer: "d"
  },
  {
    question: "Who approves the final pension payment to a retiring officer?",
    options: ["Minister of Education", "Head of Internal Audit", "Auditor-General for the Federation", "Clerk of the Assembly"],
    answer: "c"
  },
  {
    question: "A pensionable officer is one who .....?",
    options: ["Owns a business", "Is employed on permanent and pensionable terms", "Drives a government vehicle", "Travels abroad often"],
    answer: "b"
  },
  {
    question: "What happens if there is overpayment of pension?",
    options: ["The officer keeps it", "The officer must refund the excess", "The officer gets a promotion", "The officer receives a gift"],
    answer: "b"
  },
  {
    question: "Which of the following is a key principle of public pension management?",
    options: ["Discretionary payments", "Confidentiality of employment terms", "Transparency and accountability", "Rewarding political loyalty"],
    answer: "c"
  },
  {
    question: "What action should be taken if a pensioner dies?",
    options: ["Appoint a new staff", "Ignore it", "Report and stop pension payment immediately", "Replace with a sibling"],
    answer: "c"
  },
  {
    question: "Which department processes gratuity and pension payment?",
    options: ["Press unit", "Sports council", "Personnel and Accounts Department", "Traffic control"],
    answer: "c"
  },
  {
    question: "A retiree's gratuity is a .....?",
    options: ["Monthly allowance", "One-time lump sum payment", "Transport subsidy", "Loan repayment"],
    answer: "b"
  },
  {
    question: "What is the duty of the pension desk officer?",
    options: ["Conduct elections", "Supervise drivers", "Assist retirees with documentation and ensure timely payment", "Monitor market prices"],
    answer: "c"
  },
  {
    question: "Which regulation governs pension payments in the public service?",
    options: ["Public Service Rules", "Electoral Act", "Financial Regulations", "Labour Union Agreement"],
    answer: "c"
  },



        ]; 

    shuffleArray(questions);
let currentQuestion = 0;
let score = 0;
let timer;
let timeRemaining = 2000;
let answers = new Array(questions.length).fill(null);

function displayQuestion(index) {
    currentQuestion = index;
    const questionText = document.getElementById("question-text");
    const optionsContainer = document.getElementById("options-container");
    
    questionText.textContent = `Question ${index + 1}: ${questions[index].question}`;
    optionsContainer.innerHTML = "";
    
    questions[index].options.forEach((option, i) => {
        const value = String.fromCharCode(97 + i);
        const input = document.createElement("input");
        input.type = "radio";
        input.name = "answer";
        input.value = value;
        input.id = `option${i + 1}`;
        
        // Check if this answer was previously selected
        if (answers[index] === value) {
            input.checked = true;
        }
        
        const label = document.createElement("label");
        label.htmlFor = `option${i + 1}`;
        label.textContent = `${String.fromCharCode(65 + i)}. ${option}`;
        
        optionsContainer.appendChild(input);
        optionsContainer.appendChild(label);
        optionsContainer.appendChild(document.createElement("br"));
    });

    // Update the question buttons to highlight the current question
    updateQuestionButtons();
}

function createQuestionButtons() {
    const buttonsContainer = document.getElementById('question-buttons');
    buttonsContainer.innerHTML = '';
    
    questions.forEach((_, index) => {
        const button = document.createElement('button');
        button.className = 'question-btn';
        button.textContent = index + 1;
        button.onclick = () => navigateToQuestion(index);
        buttonsContainer.appendChild(button);
    });
    
    updateQuestionButtons();
}

function updateQuestionButtons() {
        const buttons = document.querySelectorAll('.question-btn');
        
        buttons.forEach((button, index) => {
            // Reset all button classes
            button.className = 'question-btn';
            
            // Highlight current question
            if (index === currentQuestion) {
                button.classList.add('current');
            }
            
            // Mark answered questions
            if (answers[index] !== null) {
                if (answers[index] === questions[index].answer) {
                    button.classList.add('answered-correct');
                } else {
                    button.classList.add('answered-wrong');
                }
            }
        });
    }

function navigateToQuestion(index) {
    checkAnswer();
    displayQuestion(index);
}

function startTimer() {
    timer = setInterval(() => {
        if (timeRemaining > 0) {
            timeRemaining--;
            const minutes = Math.floor(timeRemaining / 60).toString().padStart(2, '0');
            const seconds = (timeRemaining % 60).toString().padStart(2, '0');
            document.getElementById("timer").textContent = `Time Remaining: ${minutes}:${seconds}`;
        } else {
            clearInterval(timer);
            submitExam();
        }
    }, 1000);
}

function nextQuestion() {
    checkAnswer();
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        displayQuestion(currentQuestion);
    } else {
        alert("You are on the last question.");
    }
}

function previousQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        displayQuestion(currentQuestion);
    } else {
        alert("You are on the first question.");
    }
}

function checkAnswer() {
    const selectedOption = document.querySelector("input[name='answer']:checked");
    if (selectedOption) {
        answers[currentQuestion] = selectedOption.value;
        score = answers.reduce((total, answer, idx) => {
            return answer === questions[idx].answer ? total + 1 : total;
        }, 0);
        
        // Update the question buttons to reflect the answered question
        updateQuestionButtons();
    }
}

function submitExam() {
    clearInterval(timer);
    checkAnswer();
    
    const percentage = ((score / questions.length) * 100).toFixed(1);
    const popup = document.getElementById("score-popup");
    const overlay = document.getElementById("overlay");
    
    document.getElementById("total-questions").textContent = questions.length;
    document.getElementById("correct-answers").textContent = score;
    document.getElementById("percentage").textContent = `${percentage}%`;
    
    const resultMessage = document.getElementById("result-message");
    resultMessage.className = percentage >= 70 ? "result-message pass" : "result-message fail";
    resultMessage.textContent = percentage >= 70 ? 
        "🎉 Congratulations! You passed!" : 
        "❌ You need more practice. Try again!";

        const failedList = document.getElementById('failed-questions-list');
            failedList.innerHTML = '';
            
            const failedQuestions = answers.reduce((acc, answer, index) => {
                if (answer !== questions[index].answer) {
                    acc.push({
                        question: questions[index].question,
                        number: index + 1,
                        correctAnswer: questions[index].answer.toUpperCase()
                    });
                }
                return acc;
            }, []);

            if (failedQuestions.length > 0) {
                failedQuestions.forEach(q => {
                    const li = document.createElement('li');
                    li.textContent = `Question ${q.number}: ${q.question} (Correct Answer: ${q.correctAnswer})`;
                    failedList.appendChild(li);
                });
            } else {
                const li = document.createElement('li');
                li.textContent = 'All questions answered correctly!';
                li.classList.add('no-failed');
                failedList.appendChild(li);
            }
    
    popup.style.display = "block";
    overlay.style.display = "block";
    
    // Close pop-up handler
    document.getElementById("close-popup").onclick = function() {
        popup.style.display = "none";
        overlay.style.display = "none";
    };
};

window.onload = function() {
    createQuestionButtons();
    displayQuestion(currentQuestion);
    startTimer();
};
</script>

</body>
</html>
