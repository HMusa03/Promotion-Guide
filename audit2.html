<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promotion Guide</title>
    <link rel="icon" type="image/png" href="images/COA.png">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #b3c7fc;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            background-color: #004080;
            color: #ffffff;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative; 
        }

        header img {
            height: 100px;            
        }
        .profile-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-left: 20px;
        gap: 10px;
    }

    .profile-pic {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        border: 3px solid #fff;
        margin-bottom: 5px;
    }

    .user-info {
        color: #fff;
        text-align: center;
        font-size: 14px;
        line-height: 1.2;
    }

    nav h1 {
            color: #ffffff;
            margin: 0;
            font-size: 30px;
            flex-grow: 1;
            text-align: left;
        }

        nav {
            display: flex;
            justify-content: left;
            background-color: #003366;
            padding: 10px;
        }

        nav a {
            color: #ffffff;
            text-decoration: none;
            padding: 10px 20px;
            margin: 0 10px;
            font-size: 18px;
            border-radius: 5px;
        }

        nav a:hover {
            background-color: #005bb5;
        }

        .main-content {
            display: flex;
            flex: 1;
        }

        .container {
            width: 60%;
            margin: 20px auto;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .question {
            margin-bottom: 20px;
        }

        .navigation-buttons button {
            padding: 10px 15px;
            margin: 5px;
            background-color: #004080;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .navigation-buttons button:hover {
            background-color: #003366;
        }

        footer {
            background-color: #003366;
            color: #ffffff;
            text-align: center;
            padding: 15px;
            width: 100%;
        }

        #timer {
            font-size: 18px;
            color: white;
        }

        /* Score Pop-up Styles */
        .score-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 500px;
            padding: 30px;
            background: #f0faff;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            z-index: 1000;
            text-align: center;
            border: 3px solid #004080;
            animation: popIn 0.3s ease-out;
        }

        .score-popup h2 {
            color: #004080;
            font-size: 28px;
            margin-bottom: 15px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .score-popup p {
            font-size: 20px;
            margin: 15px 0;
            color: #333;
            font-weight: 600;
        }

        .score-popup .percentage {
            font-size: 42px;
            font-weight: 800;
            color: #004080;
            margin: 20px 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .score-popup .result-message {
            font-size: 22px;
            font-weight: 700;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .pass {
            background: #e8f5e9;
            color: #2e7d32;
            border: 2px solid #2e7d32;
        }

        .fail {
            background: #ffebee;
            color: #c62828;
            border: 2px solid #c62828;
        }

        #close-popup {
            background: #004080;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        #close-popup:hover {
            background: #003366;
            transform: scale(1.05);
        }

        /* Animation */
        @keyframes popIn {
            from {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0;
            }
            to {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
        }

      .failed-questions {
            margin: 20px 0;
            text-align: left;
            width: 100%;
        }

        .failed-questions h3 {
            color: #c62828;
            margin-bottom: 10px;
            font-size: 18px;
        }

        #failed-questions-list {
            max-height: 150px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            margin: 0 auto;
            width: 90%;
        }

        #failed-questions-list li {
            padding: 8px;
            margin: 5px 0;
            background-color: #ffebee;
            border-left: 4px solid #c62828;
            list-style-type: none;
            font-size: 14px;
        }

        #failed-questions-list li:nth-child(even) {
            background-color: #fce4ec;
        }

        .no-failed {
            color: #2e7d32;
            font-style: italic;
        }

        /* Question Navigation Panel */
        .question-nav-panel {
            width: 30%;
            background-color: #f0f0f0;
            padding: 20px;
            border-left: 1px solid #ddd;
            height: calc(100vh - 200px);
            overflow-y: auto;
            position: sticky;
            top: 0;
        }

        .question-nav-panel h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #004080;
        }

        .question-buttons {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
        }

        .question-btn {
            width: 100%;
            padding: 8px 0;
            background-color: #004080; /* Blue for unanswered */
            color: white;
            border: 1px solid #003366;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .question-btn:hover {
            background-color: #005bb5;
            transform: scale(1.05);
        }

        .question-btn.current {
            background-color: #004080;
            color: white;
            font-weight: bold;
            box-shadow: 0 0 0 2px white, 0 0 0 4px #004080;
        }

        .question-btn.answered-correct {
            background-color: #4CAF50; /* Green for correct */
            border-color: #388E3C;
        }

        .question-btn.answered-wrong {
            background-color: #f44336; /* Red for wrong */
            border-color: #d32f2f;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            .container {
                width: 90%;
            }
            .question-nav-panel {
                width: 100%;
                height: auto;
                border-left: none;
                border-top: 1px solid #ddd;
                order: -1;
            }
            .question-buttons {
                grid-template-columns: repeat(10, 1fr);
            }
        }
    </style>
</head>
<body>

    <header>
      <div class="profile-container">
        <img src="images/profile.jpeg" alt="Profile Picture" class="profile-pic">
        <div class="user-info">Mr. Promotion Exam<br>ID: FCT/12345</div>
    </div>
    <nav><a href="common_services.html">Home</a> </nav> 
    </header>
    
    <nav>
        <h1>Audit Policy (100 Qs) </h1>
        <h3 id="timer">Time Remaining: 34:00</h3>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
    </nav>

    <div class="main-content">
        <div class="container">
            <div id="question-container" class="question">
                <p id="question-text"></p>
                <div id="options-container"></div>
            </div>
        
            <div class="navigation-buttons">
                <button id="previous-button" onclick="previousQuestion()"><strong>Previous</strong></button>
                <button id="next-button" onclick="nextQuestion()"><strong>Next</strong></button>
                <button id="submit-button" onclick="submitExam()"><strong>Submit Exam</strong></button>
            </div>
        
            <div id="result" style="display: none; margin-top: 20px; font-size: 20px; color: green;"></div>
        </div>
        
        <!-- Question Navigation Panel -->
        <div class="question-nav-panel">
            <h3>Questions</h3>
            <div class="question-buttons" id="question-buttons">
                <!-- Question buttons will be generated by JavaScript -->
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay" style="display: none;"></div>
    <div class="score-popup" id="score-popup" style="display: none;">
        <h2>Exam Results</h2>
        <p>Total Questions: <span id="total-questions"></span></p>
        <p>Total Scores: <span id="correct-answers"></span></p>
        <div class="percentage" id="percentage"></div>
        <div class="result-message" id="result-message"></div>
        <!-- Add Failed Questions Section -->
        <div class="failed-questions">
            <h3>Failed Questions:</h3>
            <ul id="failed-questions-list"></ul>
        </div>
        <button id="close-popup">Close</button>
    </div>

<footer>
    <p>&copy; 2024 HM Solutions & Co. | All Rights Reserved</p>
</footer>

<script>
    // Add this shuffle function at the beginning of your script
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}
    const questions = [
            {question: "Which of the following is a threat to auditor independence?", options: ["Maintaining professional skepticism", "The self-review threat (auditing one's own work)", "Adequate documentation", "Using applicable auditing standards"], answer: "b"},
            {question: "What is a key safeguard against the 'familiarity threat'?", options: ["Accepting gifts from long-term auditee contacts", "Rotation of audit personnel on engagements", "Socializing frequently with auditee management", "Sharing confidential information"], answer: "b"},
            {question: "If offered significant hospitality from an auditee, an auditor should generally:", options: ["Accept it to build rapport", "Politely refuse if it could be perceived to influence objectivity", "Report it to the media", "Only accept it if no one finds out"], answer: "b"},
            {question: "The principle of confidentiality requires auditors to:", options: ["Share working papers with anyone who asks", "Use audit information for personal gain", "Disclose information only to those with a right and need to know", "Discuss findings in public forums"], answer: "c"},
            {question: "What does 'professional skepticism' mean in practice?", options: ["Assuming management is always fraudulent", "Trusting but verifying evidence and management representations", "Being cynical about everything", "Avoiding the use of documentation"], answer: "b"},
            {question: "What is the recommended response if asked to suppress a substantiated audit finding?", options: ["Comply immediately to maintain the relationship", "Document the instruction, politely decline, and escalate the matter", "Ignore the finding and remove it", "Resign from the audit profession"], answer: "b"},
            {question: "An auditor finds a error that benefits a friend working in the auditee organization. This creates what threat?", options: ["Self-interest threat", "Advocacy threat", "Familiarity threat", "Intimidation threat"], answer: "c"},
            {question: "The 'public interest' principle means an auditor's primary duty is to:", options: ["The management of the auditee", "The audit firm's profitability", "The users of the audit report and the wider public", "Themselves"], answer: "c"},
            {question: "What is a fundamental ethical principle for auditors?", options: ["Integrity", "Bias", "Advocacy", "Dependence"], answer: "a"},
            {question: "An auditor who is threatened by management with loss of work experiences what threat?", options: ["Self-interest threat", "Familiarity threat", "Intimidation threat", "Self-review threat"], answer: "c"},
            {question: "Using a template response to manage pressure on findings shows what?", options: ["Lack of creativity", "Professionalism and adherence to ethics", "Disrespect for management", "That the auditor is easily influenced"], answer: "b"},
            {question: "What should an auditor do with confidential information obtained during an audit?", options: ["Share it with colleagues not on the engagement", "Use it to trade stocks", "Keep it secure and not use it for personal advantage", "Post it on social media"], answer: "c"},
            {question: "Accepting a job offer from an auditee immediately after signing off on their audit creates what threat?", options: ["Self-interest threat", "Familiarity threat", "Intimidation threat", "Advocacy threat"], answer: "a"},
            {question: "The courage to escalate ethical dilemmas is supported by what?", options: ["Keeping quiet about issues", "Thorough documentation of events and instructions", "Destroying evidence of pressure", "Asking the auditee for advice"], answer: "b"},
            {question: "An auditor's appearance of independence can be compromised by what?", options: ["Maintaining professional skepticism", "Holding a financial interest in the auditee", "Following auditing standards", "Writing clear reports"], answer: "b"},
            {question: "What is the best way to handle a perceived conflict of interest?", options: ["Ignore it", "Disclose it to the appropriate authority within the audit organization", "Hide it", "Proceed with the audit as normal"], answer: "b"},
            {question: "Professional behavior requires auditors to:", options: ["Comply with relevant laws and regulations", "Ignore technical standards", "Disparage the auditee", "Make exaggerated claims about their findings"], answer: "a"},
            {question: "An ethical auditor must avoid what?", options: ["Objective reporting", "Actions that could discredit the profession", "Gathering sufficient evidence", "Using professional judgment"], answer: "b"},
            {question: "The safeguard of 'additional review' of an audit file helps mitigate what?", options: ["The cost of the audit", "Threats to independence", "The need for evidence", "The auditee's responsibilities"], answer: "b"},
            {question: "The principle of objectivity requires auditors to be:", options: ["Biased", "Influenced by conflicts of interest", "Fair and unbiased", "Subject to intimidation"], answer: "c"},
            {question: "Which entity is typically responsible for continuous internal assurance and advisory services within an MDA?", options: ["The Auditor-General", "The Internal Audit Unit", "The Public Accounts Committee (PAC)", "The EFCC"], answer: "b"},
            {question: "The Auditor-General for the Federation provides independent appraisal primarily to whom?", options: ["The President", "The Legislature (National Assembly)", "The Head of Service", "The ICPC"], answer: "b"},
            {question: "Which body holds legislative hearings to examine audit reports and enforce recommendations?", options: ["The Internal Audit Unit", "The Public Accounts Committee (PAC)", "The Judiciary", "The Bureau of Public Procurement"], answer: "b"},
            {question: "Which anti-corruption agency in Nigeria is responsible for investigation and enforcement?", options: ["The Internal Audit Unit", "The EFCC and ICPC", "The Public Accounts Committee", "The Revenue Mobilization Allocation and Fiscal Commission"], answer: "b"},
            {question: "How do internal and external audit functions ideally interact?", options: ["They should work in complete isolation", "Internal audit surfaces issues early, external audit opines, PAC enforces", "External audit reports directly to MDA management", "Internal audit replaces the need for external audit"], answer: "b"},
            {question: "The primary role of the Public Accounts Committee (PAC) is to:", options: ["Conduct annual financial audits", "Scrutinize the Auditor-General's reports and hold MDAs accountable", "Manage the TSA", "Process payroll for legislators"], answer: "b"},
            {question: "Who appoints the Auditor-General for the Federation?", options: ["The President", "The National Assembly", "The Head of Service", "The Supreme Court"], answer: "a"},
            {question: "An internal auditor's report is primarily addressed to whom within the MDA?", options: ["The Public", "The Accounting Officer and Audit Committee", "The EFCC", "The Press"], answer: "b"},
            {question: "The Code of Conduct Bureau (CCB) is primarily concerned with what?", options: ["Auditing financial statements", "Monitoring asset declarations and misconduct of public officers", "Managing government payroll", "Awarding contracts"], answer: "b"},
            {question: "The ultimate goal of the oversight architecture is to ensure what?", options: ["That no one questions government spending", "Accountability and proper use of public funds", "That audits are kept secret", "That MDAs can operate without controls"], answer: "b"},
            {question: "What is the role of an Audit Committee in an MDA?", options: ["To perform the day-to-day auditing", "To provide oversight of the internal audit function and financial reporting", "To approve all payments", "To manage staff"], answer: "b"},
            {question: "After the External Auditor submits a report to the Legislature, what is the next key step?", options: ["The report is filed away and ignored", "The PAC reviews the report and invites Accounting Officers to explain issues", "The Auditor-General is fired", "All MDAs are automatically fined"], answer: "b"},
            {question: "Which body would typically investigate a complex case of fraud identified by an auditor?", options: ["The Internal Audit Unit", "An anti-corruption agency like the EFCC or ICPC", "The Human Resources department", "The Ministry of Finance"], answer: "b"},
            {question: "The internal audit function should have a direct reporting line to whom to ensure independence?", options: ["To the Head of Accounts", "To a senior level such as the Accounting Officer or Audit Committee", "To the procurement officer", "To the external auditor"], answer: "b"},
            {question: "What is a key output of the Auditor-General's work that is used by the PAC?", options: ["The annual budget", "The Annual Report on the Accounts of the Federation", "The payroll register", "The procurement plan"], answer: "b"},
            {question: "The concept of 'accountability' in public service means that officials are:", options: ["Not responsible for their actions", "Answerable for their decisions and use of resources", "Above the law", "Not required to keep records"], answer: "b"},
            {question: "Which entity is responsible for the external audit of state governments?", options: ["The Auditor-General for the Federation", "The Auditor-General for the State", "The Federal Ministry of Finance", "The ICPC"], answer: "b"},
            {question: "The work of anti-corruption agencies complements auditing by providing what?", options: ["Payroll services", "Enforcement and prosecution capabilities", "Budget allocation", "IT support"], answer: "b"},
            {question: "A key difference between internal and external audit is that internal audit:", options: ["Provides an opinion on financial statements", "Is an integral part of the organization's control environment", "Reports only to the Legislature", "Is mandatory only for private companies"], answer: "b"},
            {question: "The effectiveness of the entire accountability chain relies on what?", options: ["Ignoring audit reports", "The diligent performance and interaction of all actors (internal audit, external audit, PAC, etc.)", "Eliminating the internal audit function", "Reducing the power of the PAC"], answer: "b"},
            {question: "In procurement, what does 'contract splitting' involve?", options: ["Dividing a large contract into smaller ones to stay under approval thresholds", "Combining multiple small contracts into one", "Writing a contract in two languages", "Using two vendors for one item"], answer: "a"},
            {question: "A 'ghost worker' on a payroll can be detected by what?", options: ["Increasing their salary", "Conducting physical verification and reconciling with HR records", "Ignoring attendance records", "Approving all overtime claims"], answer: "b"},
            {question: "What does 'pre-receipting' of revenue indicate?", options: ["Excellent cash management", "A risk that cash is collected but not recorded or lodged", "The use of automated systems", "Compliance with TSA"], answer: "b"},
            {question: "Long-outstanding imprest that is not retired suggests what?", options: ["Efficient use of funds", "Potential misuse of funds and weak recovery controls", "That the staff member is on vacation", "That no expenses were incurred"], answer: "b"},
            {question: "Negative stock balances in a store ledger are a red flag for what?", options: ["Excellent inventory management", "Pilferage, recording errors, or lack of cut-off procedures", "High demand for the item", "Efficient issuing processes"], answer: "b"},
            {question: "Old, unreconciled items on a bank reconciliation (e.g., >90 days) require what?", options: ["Ignoring them as they will clear eventually", "Immediate investigation and clearance", "Deleting them from the reconciliation", "Approving them as valid"], answer: "b"},
            {question: "What is a common test for procurement fraud involving vendors?", options: ["Reviewing the vendor master file for duplicates or shared addresses/accounts", "Only looking at the lowest bid", "Ignoring the evaluation process", "Approving all contracts"], answer: "a"},
            {question: "A sudden spike in overtime payments in a specific department should prompt an auditor to test what?", options: ["The department's coffee supply", "The authorization and necessity of the overtime", "The color of the payment vouchers", "The age of the employees"], answer: "b"},
            {question: "Photocopied receipts submitted for imprest retirement are suspicious because they:", options: ["Are easier to read", "Could be used for multiple retirements or be forged", "Are required by policy", "Save paper"], answer: "b"},
            {question: "What does a high rate of inventory write-offs might indicate?", options: ["Excellent storage conditions", "Theft, obsolescence, or poor record-keeping", "Efficient purchasing", "Low demand"], answer: "b"},
            {question: "Unexplained bank charges or debits on a statement should be:", options: ["Paid immediately without question", "Investigated for validity and authorization", "Added to the reconciliation without review", "Considered immaterial"], answer: "b"},
            {question: "Repetitive awards to the same vendor, especially at just below threshold limits, suggests what?", options: ["A reliable and efficient supplier", "Potential favoritism or avoidance of competitive bidding", "Good vendor management", "A small pool of qualified vendors"], answer: "b"},
            {question: "Duplicate BVNs on the IPPIS platform indicate a risk of what?", options: ["Efficient payroll processing", "Duplicate payments or ghost workers", "Correct statutory deductions", "Proper tax remittance"], answer: "b"},
            {question: "Round-number claims in travel and imprest retirements (e.g., always N50,000) often suggest what?", options: ["Precise accounting", "Estimations or fabricated claims rather than actual expenses", "Policy compliance", "Use of a calculator"], answer: "b"},
            {question: "Missing supporting documents (like LPOs or GRNs) for payment vouchers is a red flag for what?", options: ["Efficiency", "Potential unauthorized or fraudulent payments", "Paper-saving initiatives", "Digital transformation"], answer: "b"},
            {question: "Delayed lodgment of cash receipts (e.g., holding cash for days) creates a risk of what?", options: ["Earning interest for the government", "Theft or misuse of funds", "Better cash flow management", "Compliance with TSA"], answer: "b"},
            {question: "Aged advances on the ledger that are not recovered suggest what?", options: ["Strong credit control", "Weak follow-up and enforcement of retirement policies", "That staff are on official travel", "Efficient processing"], answer: "b"},
            {question: "Goods Received Notes (GRNs) not signed by a stores officer could indicate what?", options: ["Efficiency in receiving goods", "Goods were not properly received or inspected", "The officer was on leave", "A digital signature was used"], answer: "b"},
            {question: "Multiple payments to the same vendor in quick succession for similar amounts could indicate what?", options: ["A high-volume contract", "Contract splitting to avoid thresholds", "Efficient payment processing", "Vendor discounting"], answer: "b"},
            {question: "The absence of physical asset tags or labels makes it difficult to verify what?", options: ["The color of the asset", "The existence and ownership of assets", "The manufacturer", "The purchase date"], answer: "b"},
            {question: "What is the primary goal of using CAATs (Computer-Assisted Audit Techniques) like IDEA or ACL?", options: ["To replace all manual auditing", "To analyze large volumes of data efficiently and effectively", "To slow down the audit process", "To create more paperwork"], answer: "b"},
            {question: "The first step in a data analytics exercise is typically to:", options: ["Run complex algorithms", "Acquire and clean the data from source systems", "Present the results to management", "Delete duplicates without reviewing them"], answer: "b"},
            {question: "What is a common data join test to detect payroll fraud?", options: ["Joining the payroll file to itself", "Joining the HR master file to the payroll file to find discrepancies", "Joining the asset register to the procurement file", "Joining the bank statement to the budget"], answer: "b"},
            {question: "An IT General Control over 'access management' should ensure that:", options: ["Everyone has the administrator password", "User access rights are reviewed regularly and follow the 'least privilege' principle", "Passwords are never changed", "Access logs are turned off"], answer: "b"},
            {question: "What does testing the 'change management' process for an IT system involve?", options: ["Checking if the system has changed", "Reviewing logs for authorized, tested, and approved system changes", "Asking users if they like the system", "Only testing when a system fails"], answer: "b"},
            {question: "A sequence test on invoice numbers can help detect what?", options: ["The highest paid vendor", "Missing invoices that could indicate manipulation or hidden transactions", "The average invoice amount", "The vendor's bank details"], answer: "b"},
            {question: "What is a key control in an IT environment to protect data?", options: ["Leaving servers unlocked", "Regular backups and tested restore procedures", "Using simple passwords like 'password123'", "Sharing user accounts"], answer: "b"},
            {question: "Analyzing spending by vendor to identify the top 10 recipients is an example of what?", options: ["A compliance test", "A trend analysis that can highlight over-reliance on certain vendors", "A test of mathematical accuracy", "A physical verification procedure"], answer: "b"},
            {question: "What does a 'duplicate payment test' search for?", options: ["Vendors with duplicate names", "Duplicate invoice numbers, amounts, or vendor payment details", "Employees with duplicate skills", "Duplicate asset tags"], answer: "b"},
            {question: "The purpose of a 'disaster recovery drill' is to:", options: ["Cause a disaster", "Test the organization's ability to restore systems and data after an outage", "Train staff on daily operations", "Back up data for the first time"], answer: "b"},
            {question: "What is 'input validation' as an application control?", options: ["Validating the auditor's input", "A check that data entered into a system meets predefined criteria (e.g., date format)", "Approving all input without checks", "Deleting invalid data silently"], answer: "b"},
            {question: "Which tool is commonly used for basic data analytics and is ubiquitous in offices?", options: ["A hammer", "Microsoft Excel", "A typewriter", "A calculator"], answer: "b"},
            {question: "A report showing the percentage of unretired advances older than 30 days is an example of what?", options: ["A financial statement", "An automated dashboard for monitoring KPIs", "A risk assessment", "A audit opinion"], answer: "b"},
            {question: "Testing for transactions posted on weekends or after hours might help identify what?", options: ["Hardworking staff", "Unauthorized or suspicious activity outside normal operations", "System downtime", "Backup processes"], answer: "b"},
            {question: "What is the focus of an IT 'operations' control?", options: ["Marketing the IT department", "The day-to-day management of the IT infrastructure and processing", "Writing code for new applications", "Setting the organization's strategy"], answer: "b"},
            {question: "When exporting data from a system like GIFMIS, what is a critical audit step?", options: ["Immediately analyzing it without checks", "Assessing the completeness and integrity of the extracted data", "Deleting the original data", "Giving it to the auditee for editing"], answer: "b"},
            {question: "A control that uses two factors to authenticate a user (e.g., password + token) is called what?", options: ["Single-factor authentication", "Two-Factor Authentication (2FA)", "No-factor authentication", "Simple authentication"], answer: "b"},
            {question: "What does the 'R' in the 'R' programming language stand for?", options: ["Nothing", "It is a letter chosen by its creators", "Reporting", "Risk"], answer: "b"}, 
            {question: "What is the purpose of de-duplicating data before analysis?", options: ["To make the file smaller", "To ensure each record is unique and avoid skewing results", "To hide errors", "To comply with data privacy laws"], answer: "b"},
            {question: "An automated control is generally considered what compared to a manual control?", options: ["Less reliable", "More reliable and consistent if well designed", "More expensive to test", "Unnecessary"], answer: "b"},
            {question: "The 'policy cycle' in public administration does NOT typically include which stage?", options: ["Policy Evaluation", "Policy Formulation", "Policy Execution", "Policy Abandonment without review"], answer: "d"},
            {question: "A key principle of public procurement is:", options: ["Opacity", "Favoritism", "Competition", "Sole-sourcing for all contracts"], answer: "c"},
            {question: "According to the Nigerian Constitution, who ultimately authorizes public expenditure?", options: ["The President", "The National Assembly", "The Auditor-General", "The Ministry of Finance"], answer: "b"},
            {question: "SERVICOM charters are designed to improve what?", options: ["Government revenue", "Citizen service delivery and satisfaction", "The size of the civil service", "Procurement thresholds"], answer: "b"},
            {question: "A well-written briefing note for a Permanent Secretary should be:", options: ["Long and detailed", "Clear, concise, and evidence-based", "Full of technical jargon", "Written in pencil"], answer: "b"},
            {question: "Stakeholder analysis in policy implementation helps to identify who?", options: ["Only those who support the policy", "Individuals or groups affected by or who can influence the policy", "Only foreign investors", "Only the Minister"], answer: "b"},
            {question: "The primary purpose of a memorandum (memo) in government is for:", options: ["Informal social communication", "Formal internal communication and record-keeping", "External advertising", "Personal diaries"], answer: "b"},
            {question: "Change management principles are important when implementing new policies to address what?", options: ["Resistance and ensure buy-in", "Only the technical aspects", "The budget in isolation", "Only the legal framework"], answer: "a"},
            {question: "The 'Minute' of a meeting serves as what?", options: ["A suggestion", "An official record of discussions and decisions", "A personal opinion", "A pre-meeting agenda"], answer: "b"},
            {question: "Value-for-money in public procurement encompasses what?", options: ["Choosing the lowest price always", "Economy, efficiency, and effectiveness", "Speed of delivery only", "Using only local vendors"], answer: "b"},
            {question: "The 'Oath of Office' for public servants emphasizes what?", options: ["Loyalty to a political party", "Duty to act in the public interest with integrity", "Commitment to increasing personal wealth", "Allegiance to foreign governments"], answer: "b"},
            {question: "A major challenge in public administration is:", options: ["Lack of policies", "Bureaucracy and red tape", "Too many citizens", "Excessive accountability"], answer: "b"},
            {question: "The concept of 'governance' includes which element?", options: ["Only government actions", "The processes, traditions, and institutions by which authority is exercised", "Only the private sector", "Only the judicial system"], answer: "b"},
            {question: "Citizen feedback mechanisms are crucial for what?", options: ["Increasing government spending", "Improving policy effectiveness and public trust", "Reducing the number of audits", "Eliminating the civil service"], answer: "b"},
            {question: "The 'rule of law' in public administration implies that:", options: ["Government officials are above the law", "Everyone, including government, is accountable under the law", "Laws are not necessary", "Only citizens must obey laws"], answer: "b"},
            {question: "A primary goal of public financial management is:", options: ["Maximizing government profits", "Ensuring fiscal discipline and accountability", "Hiding financial information", "Avoiding budgeting"], answer: "b"},
            {question: "In the policy formulation stage, what is often conducted?", options: ["A staff party", "A stakeholder consultation and needs assessment", "An audit", "A recruitment drive"], answer: "b"},
            {question: "The term 'public service' refers to:", options: ["Services provided by private companies", "The body of government employees and the services they provide to citizens", "Military service only", "Services paid for by individuals"], answer: "b"},
            {question: "Effective communication in government requires messages to be:", options: ["Complex and lengthy", "Understood by the intended audience", "Written in Latin", "Communicated only verbally"], answer: "b"},
            {question: "The 'accountability' dimension of governance ensures that:", options: ["Officials are not questioned", "Public officials are answerable for their actions and use of resources", "Errors are hidden", "Reports are never published"], answer: "b"}

        ]; 

    shuffleArray(questions);
let currentQuestion = 0;
let score = 0;
let timer;
let timeRemaining = 2000;
let answers = new Array(questions.length).fill(null);

function displayQuestion(index) {
    currentQuestion = index;
    const questionText = document.getElementById("question-text");
    const optionsContainer = document.getElementById("options-container");
    
    questionText.textContent = `Question ${index + 1}: ${questions[index].question}`;
    optionsContainer.innerHTML = "";
    
    questions[index].options.forEach((option, i) => {
        const value = String.fromCharCode(97 + i);
        const input = document.createElement("input");
        input.type = "radio";
        input.name = "answer";
        input.value = value;
        input.id = `option${i + 1}`;
        
        // Check if this answer was previously selected
        if (answers[index] === value) {
            input.checked = true;
        }
        
        const label = document.createElement("label");
        label.htmlFor = `option${i + 1}`;
        label.textContent = `${String.fromCharCode(65 + i)}. ${option}`;
        
        optionsContainer.appendChild(input);
        optionsContainer.appendChild(label);
        optionsContainer.appendChild(document.createElement("br"));
    });

    // Update the question buttons to highlight the current question
    updateQuestionButtons();
}

function createQuestionButtons() {
    const buttonsContainer = document.getElementById('question-buttons');
    buttonsContainer.innerHTML = '';
    
    questions.forEach((_, index) => {
        const button = document.createElement('button');
        button.className = 'question-btn';
        button.textContent = index + 1;
        button.onclick = () => navigateToQuestion(index);
        buttonsContainer.appendChild(button);
    });
    
    updateQuestionButtons();
}

function updateQuestionButtons() {
        const buttons = document.querySelectorAll('.question-btn');
        
        buttons.forEach((button, index) => {
            // Reset all button classes
            button.className = 'question-btn';
            
            // Highlight current question
            if (index === currentQuestion) {
                button.classList.add('current');
            }
            
            // Mark answered questions
            if (answers[index] !== null) {
                if (answers[index] === questions[index].answer) {
                    button.classList.add('answered-correct');
                } else {
                    button.classList.add('answered-wrong');
                }
            }
        });
    }

function navigateToQuestion(index) {
    checkAnswer();
    displayQuestion(index);
}

function startTimer() {
    timer = setInterval(() => {
        if (timeRemaining > 0) {
            timeRemaining--;
            const minutes = Math.floor(timeRemaining / 60).toString().padStart(2, '0');
            const seconds = (timeRemaining % 60).toString().padStart(2, '0');
            document.getElementById("timer").textContent = `Time Remaining: ${minutes}:${seconds}`;
        } else {
            clearInterval(timer);
            submitExam();
        }
    }, 1000);
}

function nextQuestion() {
    checkAnswer();
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        displayQuestion(currentQuestion);
    } else {
        alert("You are on the last question.");
    }
}

function previousQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        displayQuestion(currentQuestion);
    } else {
        alert("You are on the first question.");
    }
}

function checkAnswer() {
    const selectedOption = document.querySelector("input[name='answer']:checked");
    if (selectedOption) {
        answers[currentQuestion] = selectedOption.value;
        score = answers.reduce((total, answer, idx) => {
            return answer === questions[idx].answer ? total + 1 : total;
        }, 0);
        
        // Update the question buttons to reflect the answered question
        updateQuestionButtons();
    }
}

function submitExam() {
    clearInterval(timer);
    checkAnswer();
    
    const percentage = ((score / questions.length) * 100).toFixed(1);
    const popup = document.getElementById("score-popup");
    const overlay = document.getElementById("overlay");
    
    document.getElementById("total-questions").textContent = questions.length;
    document.getElementById("correct-answers").textContent = score;
    document.getElementById("percentage").textContent = `${percentage}%`;
    
    const resultMessage = document.getElementById("result-message");
    resultMessage.className = percentage >= 70 ? "result-message pass" : "result-message fail";
    resultMessage.textContent = percentage >= 70 ? 
        "ðŸŽ‰ Congratulations! You passed!" : 
        "âŒ You need more practice. Try again!";

        const failedList = document.getElementById('failed-questions-list');
            failedList.innerHTML = '';
            
            const failedQuestions = answers.reduce((acc, answer, index) => {
                if (answer !== questions[index].answer) {
                    acc.push({
                        question: questions[index].question,
                        number: index + 1,
                        correctAnswer: questions[index].answer.toUpperCase()
                    });
                }
                return acc;
            }, []);

            if (failedQuestions.length > 0) {
                failedQuestions.forEach(q => {
                    const li = document.createElement('li');
                    li.textContent = `Question ${q.number}: ${q.question} (Correct Answer: ${q.correctAnswer})`;
                    failedList.appendChild(li);
                });
            } else {
                const li = document.createElement('li');
                li.textContent = 'All questions answered correctly!';
                li.classList.add('no-failed');
                failedList.appendChild(li);
            }
    
    popup.style.display = "block";
    overlay.style.display = "block";
    
    // Close pop-up handler
    document.getElementById("close-popup").onclick = function() {
        popup.style.display = "none";
        overlay.style.display = "none";
    };
};

window.onload = function() {
    createQuestionButtons();
    displayQuestion(currentQuestion);
    startTimer();
};
</script>

</body>
</html>
