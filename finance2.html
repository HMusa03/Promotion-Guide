<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promotion Guide</title>
    <link rel="icon" type="image/png" href="images/COA.png">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #b3c7fc;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            background-color: #004080;
            color: #ffffff;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative; 
        }

        header img {
            height: 100px;            
        }
        .profile-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-left: 20px;
        gap: 10px;
    }

    .profile-pic {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        border: 3px solid #fff;
        margin-bottom: 5px;
    }

    .user-info {
        color: #fff;
        text-align: center;
        font-size: 14px;
        line-height: 1.2;
    }

    nav h1 {
            color: #ffffff;
            margin: 0;
            font-size: 30px;
            flex-grow: 1;
            text-align: left;
        }

        nav {
            display: flex;
            justify-content: left;
            background-color: #003366;
            padding: 10px;
        }

        nav a {
            color: #ffffff;
            text-decoration: none;
            padding: 10px 20px;
            margin: 0 10px;
            font-size: 18px;
            border-radius: 5px;
        }

        nav a:hover {
            background-color: #005bb5;
        }

        .main-content {
            display: flex;
            flex: 1;
        }

        .container {
            width: 60%;
            margin: 20px auto;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .question {
            margin-bottom: 20px;
        }

        .navigation-buttons button {
            padding: 10px 15px;
            margin: 5px;
            background-color: #004080;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .navigation-buttons button:hover {
            background-color: #003366;
        }

        footer {
            background-color: #003366;
            color: #ffffff;
            text-align: center;
            padding: 15px;
            width: 100%;
        }

        #timer {
            font-size: 18px;
            color: white;
        }

        /* Score Pop-up Styles */
        .score-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 500px;
            padding: 30px;
            background: #f0faff;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            z-index: 1000;
            text-align: center;
            border: 3px solid #004080;
            animation: popIn 0.3s ease-out;
        }

        .score-popup h2 {
            color: #004080;
            font-size: 28px;
            margin-bottom: 15px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .score-popup p {
            font-size: 20px;
            margin: 15px 0;
            color: #333;
            font-weight: 600;
        }

        .score-popup .percentage {
            font-size: 42px;
            font-weight: 800;
            color: #004080;
            margin: 20px 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .score-popup .result-message {
            font-size: 22px;
            font-weight: 700;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .pass {
            background: #e8f5e9;
            color: #2e7d32;
            border: 2px solid #2e7d32;
        }

        .fail {
            background: #ffebee;
            color: #c62828;
            border: 2px solid #c62828;
        }

        #close-popup {
            background: #004080;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        #close-popup:hover {
            background: #003366;
            transform: scale(1.05);
        }

        /* Animation */
        @keyframes popIn {
            from {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0;
            }
            to {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
        }

      .failed-questions {
            margin: 20px 0;
            text-align: left;
            width: 100%;
        }

        .failed-questions h3 {
            color: #c62828;
            margin-bottom: 10px;
            font-size: 18px;
        }

        #failed-questions-list {
            max-height: 150px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            margin: 0 auto;
            width: 90%;
        }

        #failed-questions-list li {
            padding: 8px;
            margin: 5px 0;
            background-color: #ffebee;
            border-left: 4px solid #c62828;
            list-style-type: none;
            font-size: 14px;
        }

        #failed-questions-list li:nth-child(even) {
            background-color: #fce4ec;
        }

        .no-failed {
            color: #2e7d32;
            font-style: italic;
        }

        /* Question Navigation Panel */
        .question-nav-panel {
            width: 30%;
            background-color: #f0f0f0;
            padding: 20px;
            border-left: 1px solid #ddd;
            height: calc(100vh - 200px);
            overflow-y: auto;
            position: sticky;
            top: 0;
        }

        .question-nav-panel h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #004080;
        }

        .question-buttons {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
        }

        .question-btn {
            width: 100%;
            padding: 8px 0;
            background-color: #004080; /* Blue for unanswered */
            color: white;
            border: 1px solid #003366;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .question-btn:hover {
            background-color: #005bb5;
            transform: scale(1.05);
        }

        .question-btn.current {
            background-color: #004080;
            color: white;
            font-weight: bold;
            box-shadow: 0 0 0 2px white, 0 0 0 4px #004080;
        }

        .question-btn.answered-correct {
            background-color: #4CAF50; /* Green for correct */
            border-color: #388E3C;
        }

        .question-btn.answered-wrong {
            background-color: #f44336; /* Red for wrong */
            border-color: #d32f2f;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            .container {
                width: 90%;
            }
            .question-nav-panel {
                width: 100%;
                height: auto;
                border-left: none;
                border-top: 1px solid #ddd;
                order: -1;
            }
            .question-buttons {
                grid-template-columns: repeat(10, 1fr);
            }
        }
    </style>
</head>
<body>

    <header>
      <div class="profile-container">
        <img src="images/profile.jpeg" alt="Profile Picture" class="profile-pic">
        <div class="user-info">Mr. Promotion Exam<br>ID: FCT/12345</div>
    </div>
    <nav><a href="common_services.html">Home</a> </nav> 
    </header>
    
    <nav>
        <h1>Finance 02</h1>
        <h3 id="timer">Time Remaining: 34:00</h3>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
        <a href=""></a>
    </nav>

    <div class="main-content">
        <div class="container">
            <div id="question-container" class="question">
                <p id="question-text"></p>
                <div id="options-container"></div>
            </div>
        
            <div class="navigation-buttons">
                <button id="previous-button" onclick="previousQuestion()"><strong>Previous</strong></button>
                <button id="next-button" onclick="nextQuestion()"><strong>Next</strong></button>
                <button id="submit-button" onclick="submitExam()"><strong>Submit Exam</strong></button>
            </div>
        
            <div id="result" style="display: none; margin-top: 20px; font-size: 20px; color: green;"></div>
        </div>
        
        <!-- Question Navigation Panel -->
        <div class="question-nav-panel">
            <h3>Questions</h3>
            <div class="question-buttons" id="question-buttons">
                <!-- Question buttons will be generated by JavaScript -->
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay" style="display: none;"></div>
    <div class="score-popup" id="score-popup" style="display: none;">
        <h2>Exam Results</h2>
        <p>Total Questions: <span id="total-questions"></span></p>
        <p>Total Scores: <span id="correct-answers"></span></p>
        <div class="percentage" id="percentage"></div>
        <div class="result-message" id="result-message"></div>
        <!-- Add Failed Questions Section -->
        <div class="failed-questions">
            <h3>Failed Questions:</h3>
            <ul id="failed-questions-list"></ul>
        </div>
        <button id="close-popup">Close</button>
    </div>

<footer>
    <p>&copy; 2024 HM Solutions & Co. | All Rights Reserved</p>
</footer>

<script>
    // Add this shuffle function at the beginning of your script
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}
    const questions = [
            {question: "When advising on a new law, what is the finance staff's key concern?", options: ["Its political popularity", "Its financial impact and cost to implement", "Its length and wording", "Its international reception"], answer: "b"},
{question: "What is a potential consequence of NOT conducting long-term financial planning?", options: ["A perfectly balanced budget forever", "Unexpected fiscal crises and inability to meet future obligations", "Higher employee morale", "Simpler annual reports"], answer: "b"},
{question: "What type of risk does strategic financial analysis help to mitigate?", options: ["Operational risks like a broken printer", "Long-term fiscal risks that threaten stability", "Risks to personal reputation", "Weather-related risks"], answer: "b"},
{question: "In a strategic role, finance staff help translate what into what?", options: ["Public opinion into law", "Strategic goals into actionable financial plans", "Foreign language reports", "Digital data into paper files"], answer: "b"},
{question: "What is a key output of a strategic finance function?", options: ["A processed invoice", "A 5-year financial sustainability report", "A reconciled bank statement", "A paid salary"], answer: "b"},
{question: "Who is the primary audience for strategic financial advice?", options: ["Vendors", "Decision-makers and policymakers", "The public", "Journalists"], answer: "b"},
{question: "What does 'proactive management' mean in a financial context?", options: ["Waiting for a problem to happen", "Anticipating future challenges and acting in advance", "Reacting quickly to crises", "Managing a large team"], answer: "b"},
{question: "What is the relationship between policy advisory and budgetary planning?", options: ["They are completely separate", "They are deeply integrated; the advice informs the budget", "Policy advisory happens after the budget is set", "Budgetary planning is more important"], answer: "b"},
{question: "What is a 'fiscal implication'?", options: ["A political scandal", "The financial effect or consequence of a decision", "A type of investment", "An accounting error"], answer: "b"},
{question: "Why is objectivity crucial in the strategic advisory role?", options: ["To get promoted", "To ensure advice is based on data, not political pressure", "To make friends", "To complete reports faster"], answer: "b"},
{question: "What broader field does 'performance management' in government belong to?", options: ["Human Resources", "Public Financial Management (PFM)", "Marketing", "Information Technology"], answer: "b"},
{question: "A strategic finance partner might help a department justify its budget request by showing what?", options: ["How many employees it has", "What outcomes and benefits it will deliver for the money", "How it spent its money last year", "How unpopular cuts would be"], answer: "b"},
{question: "What is the main value added by the strategic finance role?", options: ["Faster processing", "Improved decision-making through financial insight", "More complex reports", "Larger budgets"], answer: "b"},
{question: "What kind of forecasting is used for long-term infrastructure projects?", options: ["Weather forecasting", "Multi-year capital forecasting", "Sales forecasting", "Election forecasting"], answer: "b"},
{question: "What does 'fiscal sustainability' mean?", options: ["The ability to spend all money now", "The government's ability to meet its current and future financial obligations", "Having a balanced budget one time", "Avoiding all debt"], answer: "b"},
{question: "How does strategic analysis support accountability?", options: ["It hides spending", "It helps link funding to results, showing what was achieved", "It makes reports longer", "It focuses only on costs"], answer: "b"},
{question: "What is the difference between a cost (input) and a benefit (outcome)?", options: ["A cost is financial, a benefit is not", "A cost is a resource used, a benefit is the positive result gained", "They are the same thing", "A cost is good, a benefit is bad"], answer: "b"},
{question: "The strategic role moves finance from being a 'bean counter' to being a what?", options: ["Barrier", "Strategic enabler", "Paper pusher", "Automatic software"], answer: "b"},
{question: "What unique responsibility is imposed by the context of public service?", options: ["Meeting sales targets", "Ethical and legal imperative", "Increasing market share", "Global expansion"], answer: "b"},
{question: "Public service finance staff are best described as what of public resources?", options: ["Owners", "Custodians or stewards", "Consumers", "Speculators"], answer: "b"},
{question: "The mindset required for managing public resources is one of what?", options: ["Prudent and careful management", "Quick and aggressive investment", "Maximal spending", "Minimal effort"], answer: "a"},
{question: "What principle requires that government financial operations be open to scrutiny?", options: ["Secrecy", "Transparency", "Delegation", "Centralization"], answer: "b"},
{question: "Public accountability allows whom to hold the government answerable?", options: ["Only internal staff", "Citizens and their representatives", "Foreign investors", "Private corporations"], answer: "b"},
{question: "What must public finance staff avoid to maintain professional judgment?", options: ["New technology", "Any situation constituting a conflict of interest", "Team meetings", "Writing reports"], answer: "b"},
{question: "The legal framework for public finance includes adherence to what?", options: ["Social media trends", "Constitutional rules and legislative appropriations", "Personal opinions", "Departmental preferences"], answer: "b"},
{question: "What is the core ethical concept described as the 'cornerstone of the profession'?", options: ["Creativity", "Charisma", "Ambition", "Unimpeachable integrity"], answer: "d"},
{question: "Stewardship means that the resources being managed belong to whom?", options: ["The finance staff", "The government", "The public", "The elected officials"], answer: "c"},
{question: "What is a key reason transparency is non-negotiable in public finance?", options: ["It makes the reports longer", "It simplifies accounting", "It is an international requirement", "It allows citizens to see how their money is used"], answer: "d"},
{question: "A conflict of interest arises when what could influence professional judgment?", options: ["The weather", "The time of day", "The type of software used", "Personal interests"], answer: "d"},
{question: "What is the consequence of a public finance staff member accepting a large gift from a vendor?", options: ["It is a harmless gesture", "It reduces procurement costs", "It is encouraged to build relationships", "It could create a perceived or actual conflict of interest"], answer: "d"},
{question: "What does 'prudent management' of public funds imply?", options: ["Spending as fast as possible", "Investing in high-risk ventures", "Hoarding all funds indefinitely", "Careful, wise, and sparing use of resources"], answer: "d"},
{question: "The 'public purse' is another term for what?", options: ["The Finance Minister's wallet", "Private donations to government", "International aid money", "Collective taxpayer funds"], answer: "d"},
{question: "Why is public accountability more intense than in the private sector?", options: ["The sums of money are smaller", "Private sector has no accountability", "The public sector is less efficient", "The funds belong to the public and their use is a public trust"], answer: "d"},
{question: "What is a common legal requirement for public spending?", options: ["It must be approved by a popular vote", "It can be decided by any manager", "It doesn't require any documentation", "It must be within legislatively appropriated amounts"], answer: "d"},
{question: "What is an example of a transparency mechanism?", options: ["Classifying all documents as secret", "Holding closed-door meetings", "Using complex jargon", "Preparing publicly accessible budgets and annual reports"], answer: "d"},
{question: "Acting with 'unimpeachable integrity' means your actions are what?", options: ["Beyond question or doubt", "Highly complex", "Open to interpretation", "Occasionally flexible"], answer: "a"},
{question: "What is the primary driver for a public finance official's decision?", options: ["Personal gain", "Departmental popularity", "Speed of execution", "The law and the public good"], answer: "d"},
{question: "What is a potential consequence of violating public trust?", options: ["A promotion", "A bonus", "Simpler workflows", "Erosion of citizen confidence in government"], answer: "d"},
{question: "What is the purpose of a 'code of ethics' in public service?", options: ["To create unnecessary rules", "To punish employees", "To protect incompetent staff", "To provide clear guidelines for maintaining integrity and avoiding conflicts"], answer: "d"},
{question: "Why must public finance staff be familiar with the constitution?", options: ["It's a interesting historical document", "It is irrelevant to their work", "It helps with personal tax returns", "It often contains fundamental rules about government spending"], answer: "d"},
{question: "What does 'equity' mean in the distribution of public resources?", options: ["Favoring urban areas", "Giving everyone the same amount", "Prioritizing political allies", "Fair and just distribution"], answer: "d"},
{question: "What is a key difference between a public service ethic and a business ethic?", options: ["Public service prioritizes the public good, business prioritizes profit", "There is no difference", "Business ethics are stricter", "Public service has no ethics"], answer: "a"},
{question: "What should a finance officer do if they discover their superior is authorizing illegal payments?", options: ["Ignore it", "Participate in it", "Report it through the proper channels (whistleblowing)", "Ask for a share"], answer: "c"},
{question: "The requirement to act objectively means making decisions based on what?", options: ["Personal relationships", "Political pressure", "Which option is easiest", "Facts and data, without bias"], answer: "d"},
{question: "What is 'fiduciary duty' in the context of public service?", options: ["A duty to spend money", "A duty to follow orders without question", "A duty to maximize revenue", "A legal and ethical duty to act in the best interest of the public"], answer: "d"},
{question: "What law often governs the disclosure of government information to the public?", options: ["The Secret Laws Act", "The Privacy Secrecy Law", "The Internal Data Act", "The Freedom of Information Act"], answer: "d"},
{question: "What is a 'whistleblower'?", options: ["Someone who leaks information for personal gain", "A musical instrument", "A type of audit", "A person who exposes wrongdoing within an organization to the public"], answer: "d"},
{question: "Why are public sector ethics often stricter than private sector ethics?", options: ["Public sector employees are less trustworthy", "The private sector is unregulated", "The public sector deals with larger numbers", "The potential for abuse of power and public funds is significant"], answer: "d"},
{question: "What is a fundamental aspect of 'legality' in public finance?", options: ["Doing what seems right", "Following the minister's orders", "Interpreting laws loosely", "Ensuring every action has a basis in law"], answer: "d"},
{question: "What is the best way to handle a potential conflict of interest?", options: ["Hide it", "Ignore it", "Proceed as normal", "Disclose it to a supervisor and recuse oneself from the decision"], answer: "d"},

{question: "The use of public office for private gain is a definition of what?", options: ["Efficient management", "Innovation", "Corruption", "Budgeting"], answer: "c"},
{question: "What is the purpose of an 'ethics training' program?", options: ["To waste time", "To teach accounting", "To reinforce the importance of integrity and clarify ethical standards", "To plan social events"], answer: "c"},
{question: "What is a common restriction on post-employment for senior public officials?", options: ["They can never work again", "They must leave the country", "They are forbidden from lobbying their former agency for a 'cooling-off' period", "They must return their salary"], answer: "c"},
{question: "Upholding the 'public trust' is essential for the legitimacy of what?", options: ["The financial software", "The annual report", "The government itself", "The office building"], answer: "c"},
{question: "What is the opposite of transparency?", options: ["Clarity", "Accountability", "Secrecy or opacity", "Stewardship"], answer: "c"},
{question: "What ethical principle requires giving a fair hearing to all competing claims for public funds?", options: ["Favoritism", "Nepotism", "Equity", "Secrecy"], answer: "c"},
{question: "The 'appearance of impropriety' is a concern because it can do what?", options: ["Improve efficiency", "Speed up decisions", "Erode public confidence even if no actual rule was broken", "Simplify accounting"], answer: "c"},
{question: "What is the ultimate sanction for a serious breach of public trust?", options: ["A promotion", "A warning", "Criminal prosecution and imprisonment", "A transfer to another department"], answer: "c"},
{question: "What is a fundamental technical skill required for public service finance staff?", options: ["Expertise in marketing", "Expertise in engineering", "Expertise in accounting principles and budgeting", "Expertise in graphic design"], answer: "c"},
{question: "What specific accounting standards must public finance staff often be expert in?", options: ["Corporate Social Responsibility standards", "Agricultural industry standards", "International Public Sector Accounting Standards (IPSAS)", "Entertainment industry standards"], answer: "c"},
{question: "What type of software systems do finance staff need to be proficient in?", options: ["Video editing software", "Architectural design software", "Financial software systems", "Social media platforms"], answer: "c"},
{question: "What is a key analytical skill for a public finance professional?", options: ["The ability to interpret complex financial data", "The ability to write fiction", "The ability to perform surgery", "The ability to forecast the weather"], answer: "a"},
{question: "What is the purpose of analytical skills in public finance?", options: ["To identify trends and diagnose problems", "To create artistic presentations", "To design office buildings", "To manage social media accounts"], answer: "a"},
{question: "What distinct knowledge is crucial for public sector finance staff compared to private sector?", options: ["Understanding the public sector context and its objectives", "Understanding manufacturing processes", "Understanding retail consumer behavior", "Understanding private equity deals"], answer: "a"},
{question: "What is a primary objective of government that finance staff must understand?", options: ["Profit maximization", "Market domination", "Equity and public good", "Global brand recognition"], answer: "c"},
{question: "What is essential for explaining complex financial information to non-financial managers?", options: ["Advanced mathematical skills only", "Knowledge of ancient history", "Clear communication and interpersonal skills", "Physical fitness"], answer: "c"},
{question: "Why is collaboration across departments essential?", options: ["To win popularity contests", "To avoid doing work", "Because financial operations require input and cooperation from all parts of an organization", "To get better office space"], answer: "c"},
{question: "What is the cornerstone of the public finance profession?", options: ["Creativity", "Charisma", "Unimpeachable integrity and objectivity", "A strong handshake"], answer: "c"},
{question: "What must finance staff maintain even when providing unwelcome information?", options: ["Silence", "A cheerful disposition", "Independence and objectivity", "A strict dress code"], answer: "c"},
{question: "What is a key aspect of 'problem-solving skills' in this field?", options: ["Ignoring problems", "Blaming other departments", "Developing practical financial solutions", "Writing long reports about problems"], answer: "c"},
{question: "Understanding the 'political environment' is important for finance staff to do what?", options: ["Run for office", "Win arguments", "Navigate the realities of policy development and funding", "Influence elections"], answer: "c"},
{question: "What does 'objectivity' ensure in financial reporting and advice?", options: ["That it is based on facts, not bias or pressure", "That it is always positive", "That it aligns with the boss's opinion", "That it is completed quickly"], answer: "a"},
{question: "What is a critical component of 'technical proficiency'?", options: ["Knowledge of financial regulations and laws", "Ability to code in Python", "Skill in public speaking", "Talent for music"], answer: "a"},
{question: "Why are interpersonal skills vital for a public finance officer?", options: ["To make friends at work", "To get invited to parties", "To build effective working relationships with colleagues and stakeholders", "To manage personal finances"], answer: "c"},
{question: "The ability to 'develop practical solutions' is part of which skill set?", options: ["Problem-solving", "Musical ability", "Athletic prowess", "Culinary skill"], answer: "a"},
{question: "What does 'unimpeachable integrity' mean?", options: ["Integrity that is occasionally flexible", "Integrity that is reported annually", "Integrity that is defined by law", "Integrity that is beyond question or doubt"], answer: "d"},
{question: "What is the main purpose of communication skills in this role?", options: ["To entertain colleagues", "To write cryptic messages", "To avoid conversations", "To persuade and inform decision-makers clearly"], answer: "d"},
{question: "Knowledge of the 'policy cycle' helps finance staff do what?", options: ["Ignore policy", "Create new policies alone", "Criticize all policies", "Understand how and when to provide relevant financial input"], answer: "d"},
{question: "What is the difference between a technical skill and a soft skill?", options: ["Technical skills are hard to learn, soft skills are easy", "There is no difference", "Soft skills are more important than technical skills", "Technical skills are about tools and rules, soft skills are about people and communication"], answer: "d"},
{question: "Which skill is crucial for liaising effectively with external auditors?", options: ["Sculpting", "Gardening", "Driving", "Interpersonal and communication skills"], answer: "d"},
{question: "What is the benefit of having 'knowledge of the public sector context'?", options: ["It allows one to work in the private sector", "It is useless knowledge", "It helps with personal investing", "It enables relevant and applicable financial management"], answer: "d"},
{question: "Why is 'independence' important for a finance professional?", options: ["To work alone without colleagues", "To avoid teamwork", "To get a private office", "To provide truthful information without being influenced by others"], answer: "d"},
{question: "What is a key element of 'financial software system' proficiency?", options: ["Knowing how to repair the computer", "Playing games on the system", "Using it for social networking", "Using the system to generate accurate reports and maintain controls"], answer: "d"},
{question: "What does 'diagnose problems' involve in an analytical context?", options: ["Prescribing medicine", "Ignoring small issues", "Blaming external factors", "Identifying the root cause of a financial discrepancy"], answer: "d"},
{question: "The ability to work with non-financial managers requires what?", options: ["The ability to simplify complex financial concepts", "The ability to confuse them with jargon", "The ability to do their job for them", "The ability to avoid them"], answer: "a"},
{question: "What is the hallmark of a 'strategic partner' in finance?", options: ["Focusing only on past transactions", "Working in isolation", "Processing data slowly", "Using analytical and communication skills to advise on future decisions"], answer: "d"},
{question: "What is the most important competency for ensuring compliance with laws?", options: ["Speed", "Creativity", "Physical strength", "Technical knowledge of the relevant laws and regulations"], answer: "d"},
{question: "What does 'prudence' mean in the context of public financial management?", options: ["Taking big risks", "Spending quickly", "Avoiding all spending", "Exercising careful judgment and caution with public funds"], answer: "d"},
{question: "Which skill is primarily used when preparing a variance report for a legislative committee?", options: ["Carpentry", "Musical skill", "Athletic ability", "Written and verbal communication skills"], answer: "d"},
{question: "What is a 'core functional responsibility' that requires technical proficiency?", options: ["Budget execution", "Organizing team events", "Designing logos", "Writing press releases"], answer: "a"},
{question: "What is the primary focus of 'ethical conduct'?", options: ["Getting promoted", "Making friends", "Increasing personal wealth", "Upholding the public trust through lawful and responsible actions"], answer: "d"},
{question: "What is a necessary skill for designing effective internal controls?", options: ["Understanding risks and how to mitigate them", "Knowing how to bypass controls", "Artistic talent", "Knowledge of dance"], answer: "a"},
{question: "Why is 'continuous learning' important in this field?", options: ["Laws and standards are static and never change", "To avoid boredom", "To get more vacation days", "Laws, standards, and technologies constantly evolve"], answer: "d"},
{question: "What blend of skills is unique to the public finance profession?", options: ["Technical expertise and unwavering ethical conduct", "Sales and marketing", "Engineering and design", "Musical and theatrical"], answer: "a"},
{question: "What is the best way to handle a complex, novel financial problem?", options: ["Guess the solution", "Hide the problem", "Ask the intern to handle it", "Apply analytical and problem-solving skills to develop a reasoned approach"], answer: "d"},
{question: "What does 'fiduciary duty' emphasize the need for?", options: ["Creativity", "Speed", "Delegation", "The highest standard of care and loyalty to the public"], answer: "d"},
{question: "Which competency ensures that financial advice is actually useful to decision-makers?", options: ["The ability to communicate it effectively", "The use of complex acronyms", "Writing it in a secret code", "Providing it after the decision is made"], answer: "a"},
{question: "The 'essential skills' section outlines what for a successful career in public finance?", options: ["The required dress code", "The salary expectations", "The vacation policy", "The necessary blend of knowledge, abilities, and character traits"], answer: "d"},
{question: "A significant unfavorable variance in a monthly budget report should primarily prompt the finance staff to recommend what?", options: ["Immediate budget increases for the affected department", "A celebratory acknowledgment of aggressive spending", "Investigation into the cause and corrective action plans", "Reclassification of the expense to a different budget line"], answer: "c"},
{question: "When advising on a new social policy, what is the strategic finance professional's key contribution?", options: ["Assessing the political popularity of the policy", "Designing the public marketing campaign for the policy", "Determining the ethical philosophy behind the policy", "Analyzing the long-term fiscal sustainability and total cost of ownership"], answer: "d"}


        ]; 

    shuffleArray(questions);
let currentQuestion = 0;
let score = 0;
let timer;
let timeRemaining = 2000;
let answers = new Array(questions.length).fill(null);

function displayQuestion(index) {
    currentQuestion = index;
    const questionText = document.getElementById("question-text");
    const optionsContainer = document.getElementById("options-container");
    
    questionText.textContent = `Question ${index + 1}: ${questions[index].question}`;
    optionsContainer.innerHTML = "";
    
    questions[index].options.forEach((option, i) => {
        const value = String.fromCharCode(97 + i);
        const input = document.createElement("input");
        input.type = "radio";
        input.name = "answer";
        input.value = value;
        input.id = `option${i + 1}`;
        
        // Check if this answer was previously selected
        if (answers[index] === value) {
            input.checked = true;
        }
        
        const label = document.createElement("label");
        label.htmlFor = `option${i + 1}`;
        label.textContent = `${String.fromCharCode(65 + i)}. ${option}`;
        
        optionsContainer.appendChild(input);
        optionsContainer.appendChild(label);
        optionsContainer.appendChild(document.createElement("br"));
    });

    // Update the question buttons to highlight the current question
    updateQuestionButtons();
}

function createQuestionButtons() {
    const buttonsContainer = document.getElementById('question-buttons');
    buttonsContainer.innerHTML = '';
    
    questions.forEach((_, index) => {
        const button = document.createElement('button');
        button.className = 'question-btn';
        button.textContent = index + 1;
        button.onclick = () => navigateToQuestion(index);
        buttonsContainer.appendChild(button);
    });
    
    updateQuestionButtons();
}

function updateQuestionButtons() {
        const buttons = document.querySelectorAll('.question-btn');
        
        buttons.forEach((button, index) => {
            // Reset all button classes
            button.className = 'question-btn';
            
            // Highlight current question
            if (index === currentQuestion) {
                button.classList.add('current');
            }
            
            // Mark answered questions
            if (answers[index] !== null) {
                if (answers[index] === questions[index].answer) {
                    button.classList.add('answered-correct');
                } else {
                    button.classList.add('answered-wrong');
                }
            }
        });
    }

function navigateToQuestion(index) {
    checkAnswer();
    displayQuestion(index);
}

function startTimer() {
    timer = setInterval(() => {
        if (timeRemaining > 0) {
            timeRemaining--;
            const minutes = Math.floor(timeRemaining / 60).toString().padStart(2, '0');
            const seconds = (timeRemaining % 60).toString().padStart(2, '0');
            document.getElementById("timer").textContent = `Time Remaining: ${minutes}:${seconds}`;
        } else {
            clearInterval(timer);
            submitExam();
        }
    }, 1000);
}

function nextQuestion() {
    checkAnswer();
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        displayQuestion(currentQuestion);
    } else {
        alert("You are on the last question.");
    }
}

function previousQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        displayQuestion(currentQuestion);
    } else {
        alert("You are on the first question.");
    }
}

function checkAnswer() {
    const selectedOption = document.querySelector("input[name='answer']:checked");
    if (selectedOption) {
        answers[currentQuestion] = selectedOption.value;
        score = answers.reduce((total, answer, idx) => {
            return answer === questions[idx].answer ? total + 1 : total;
        }, 0);
        
        // Update the question buttons to reflect the answered question
        updateQuestionButtons();
    }
}

function submitExam() {
    clearInterval(timer);
    checkAnswer();
    
    const percentage = ((score / questions.length) * 100).toFixed(1);
    const popup = document.getElementById("score-popup");
    const overlay = document.getElementById("overlay");
    
    document.getElementById("total-questions").textContent = questions.length;
    document.getElementById("correct-answers").textContent = score;
    document.getElementById("percentage").textContent = `${percentage}%`;
    
    const resultMessage = document.getElementById("result-message");
    resultMessage.className = percentage >= 70 ? "result-message pass" : "result-message fail";
    resultMessage.textContent = percentage >= 70 ? 
        "🎉 Congratulations! You passed!" : 
        "❌ You need more practice. Try again!";

        const failedList = document.getElementById('failed-questions-list');
            failedList.innerHTML = '';
            
            const failedQuestions = answers.reduce((acc, answer, index) => {
                if (answer !== questions[index].answer) {
                    acc.push({
                        question: questions[index].question,
                        number: index + 1,
                        correctAnswer: questions[index].answer.toUpperCase()
                    });
                }
                return acc;
            }, []);

            if (failedQuestions.length > 0) {
                failedQuestions.forEach(q => {
                    const li = document.createElement('li');
                    li.textContent = `Question ${q.number}: ${q.question} (Correct Answer: ${q.correctAnswer})`;
                    failedList.appendChild(li);
                });
            } else {
                const li = document.createElement('li');
                li.textContent = 'All questions answered correctly!';
                li.classList.add('no-failed');
                failedList.appendChild(li);
            }
    
    popup.style.display = "block";
    overlay.style.display = "block";
    
    // Close pop-up handler
    document.getElementById("close-popup").onclick = function() {
        popup.style.display = "none";
        overlay.style.display = "none";
    };
};

window.onload = function() {
    createQuestionButtons();
    displayQuestion(currentQuestion);
    startTimer();
};
</script>

</body>
</html>
